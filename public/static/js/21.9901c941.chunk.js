(window.webpackJsonp=window.webpackJsonp||[]).push([[21],{647:function(e,t,a){"use strict";a.r(t);a(154);var n=a(155),s=(a(186),a(153)),i=(a(158),a(156)),r=(a(163),a(164)),c=(a(244),a(270)),l=a(6),o=a(7),u=a(9),d=a(8),p=a(10),m=(a(621),a(629)),g=a(0),b=a.n(g),v=(a(165),a(169)),h=(a(187),a(191)),f=a(168),y=h.a.Item,E={labelCol:{span:4},wrapperCol:{span:19,style:{paddingLeft:"10px"}}},U=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).sureAction=function(){a.props.form.validateFields(function(e,t){e||a.props.onOk(t)})},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.isEditor?this.props.activeData:void 0,a=!t||0===t.subMenus.length;return b.a.createElement(f.a,{title:this.props.title,visible:!0,onOk:this.sureAction,onCancel:this.props.onCancel,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},b.a.createElement(y,Object.assign({},E,{label:"\u540d\u79f0"}),e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"}],initialValue:t&&t.name})(b.a.createElement(v.a,{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"}))),a?b.a.createElement(y,Object.assign({},E,{label:"URL"}),e("url",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8def\u7531\u5730\u5740"}],initialValue:t&&t.url})(b.a.createElement(v.a,{placeholder:"\u8bf7\u8f93\u5165\u8def\u7531\u5730\u5740"}))):null,b.a.createElement(y,Object.assign({},E,{label:"\u6392\u5e8f"}),e("seq",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6392\u5e8f"}],initialValue:t&&t.seq})(b.a.createElement(v.a.TextArea,{style:{resize:"none",height:60},placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f"}))))}}]),t}(g.Component),S=h.a.create()(U),D=m.a.TreeNode,M={fontSize:"20px",color:"#aaa",marginLeft:"10px"},q=Object.assign({},M,{color:"rgb(24, 144, 255)"}),j=function(e){function t(){var e,a;Object(l.a)(this,t);for(var n=arguments.length,s=new Array(n),i=0;i<n;i++)s[i]=arguments[i];return(a=Object(u.a)(this,(e=Object(d.a)(t)).call.apply(e,[this].concat(s)))).state={menuLists:[],selectedKeys:[],expandedKeys:[],visible:!1,isEditor:!1,activeData:void 0},a.getMenuLists=function(){var e={success:!0,msg:"\u6210\u529f",obj:[{id:150,parentId:-1,name:"\u7efc\u5408\u753b\u50cf",url:"",iconUrl:"n_ico2.png",iconSelectedUrl:"n_ico2.png",seq:11,tags:[],subMenus:[{id:151,parentId:150,name:"\u7fa4\u4f53\u753b\u50cf",url:"/mainframe/GroupPortrait",iconUrl:"",iconSelectedUrl:"",seq:12,tags:[],subMenus:[]},{id:152,parentId:150,name:"\u4e2a\u4eba\u753b\u50cf",url:"/mainframe/personalportrait",iconUrl:"",iconSelectedUrl:"",seq:13,tags:[],subMenus:[]}]},{id:2,parentId:-1,name:"\u8f68\u8ff9\u5206\u6790",url:"",iconUrl:"n_ico3.png",iconSelectedUrl:"n_ico3.png",seq:14,tags:[],subMenus:[{id:4,parentId:2,name:"\u4e2a\u4eba\u8f68\u8ff9",url:"/mainframe/personalpath",iconUrl:"",iconSelectedUrl:"",seq:58,tags:[],subMenus:[]},{id:153,parentId:2,name:"\u7fa4\u4f53\u8f68\u8ff9",url:"/mainframe/grouppath",iconUrl:"",iconSelectedUrl:"",seq:59,tags:[],subMenus:[]}]},{id:178,parentId:-1,name:"\u7efc\u5408\u9884\u8b66",url:"/mainframe/comprehensivewarning",iconUrl:"",iconSelectedUrl:"",seq:256,tags:[],subMenus:[]},{id:179,parentId:-1,name:"\u7cfb\u7edf\u8bbe\u7f6e",url:"/mainframe/systemsetup",iconUrl:"",iconSelectedUrl:"",seq:257,tags:[],subMenus:[{id:180,parentId:179,name:"\u9884\u8b66\u8bbe\u7f6e",url:"/mainframe/systemsetup/earlywarningsetting",iconUrl:"",iconSelectedUrl:"",seq:387,tags:[],subMenus:[]},{id:181,parentId:179,name:"\u884c\u4e3a\u8f68\u8ff9\u8bbe\u7f6e",url:"/mainframe/systemsetup/behaviortrajectory",iconUrl:"",iconSelectedUrl:"",seq:388,tags:[],subMenus:[]}]},{id:10,parentId:-1,name:"\u6743\u9650\u7ba1\u7406",url:"",iconUrl:"xitongguanli.png",iconSelectedUrl:"xitongguanli2.png",seq:259,tags:[],subMenus:[{id:25,parentId:10,name:"\u8d26\u6237\u7ba1\u7406",url:"/mainframe/accessmanage/account",iconUrl:"",iconSelectedUrl:"",seq:264,tags:[],subMenus:[]},{id:24,parentId:10,name:"\u83dc\u5355\u7ba1\u7406",url:"/mainframe/accessmanage/menu",iconUrl:"",iconSelectedUrl:"",seq:265,tags:[],subMenus:[]},{id:26,parentId:10,name:"\u6743\u9650\u914d\u7f6e",url:"/mainframe/accessmanage/authority",iconUrl:"",iconSelectedUrl:"",seq:266,tags:[],subMenus:[]}]}],errorCode:null};e.success&&a.setState({menuLists:e.obj||[]})},a.onSelect=function(e,t){e.length>0?a.setState({selectedKeys:e,activeData:t.node.props.detail}):a.setState({selectedKeys:e,activeData:void 0})},a.onDragEnter=function(e){a.setState({expandedKeys:e.expandedKeys})},a.onDrop=function(e){},a.deleteAction=function(){a.state.activeData&&c.a.confirm({title:"\u786e\u5b9a\u5220\u9664".concat(a.state.activeData.name,"\u83dc\u5355\u5417?"),onOk:function(){var e={success:!0};e.success?(r.a.success("\u5220\u9664\u6210\u529f\uff01"),a.getMenuLists()):r.a.error(e.obj)},onCancel:function(){},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},a.saveAction=function(e){var t=a.state.isEditor,n={name:e.name,seq:e.seq,url:e.url,sourceCode:"pc",iconUrl:"test",iconSelectedUrl:"test"};t?n.id=a.state.activeData.id:a.state.activeData&&a.state.activeData.parentId<=0&&(n.parentId=a.state.activeData.id);var s={success:!0};s.success?(r.a.success("\u4fdd\u5b58\u6210\u529f\uff01"),a.setState({visible:!1,isEditor:!1},function(){a.getMenuLists()})):r.a.error(s.obj)},a}return Object(p.a)(t,e),Object(o.a)(t,[{key:"componentWillMount",value:function(){this.getMenuLists()}},{key:"render",value:function(){var e=this;return b.a.createElement("div",{style:{padding:"20px"}},b.a.createElement(n.a,{title:b.a.createElement("span",{style:{color:"#1890FF",lineHeight:"34px"}},"\u83dc\u5355"),extra:b.a.createElement("div",null,b.a.createElement(i.a,{icon:"plus",type:"primary",disabled:this.state.activeData&&this.state.activeData.parentId>0,style:{marginRight:20},onClick:function(){e.setState({visible:!0,isEditor:!1})}},"\u6dfb\u52a0\u83dc\u5355"),b.a.createElement(s.a,{type:"form",style:this.state.activeData?q:M,onClick:function(){e.state.activeData&&e.setState({visible:!0,isEditor:!0})}}),b.a.createElement(s.a,{type:"delete",style:this.state.activeData?q:M,onClick:this.deleteAction}))},b.a.createElement(m.a,{onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,defaultExpandedKeys:this.state.expandedKeys,draggable:!0,onDragEnter:this.onDragEnter,onDrop:this.onDrop},function e(t){return t.map(function(t){return t.subMenus&&t.subMenus.length?b.a.createElement(D,{key:t.id,title:t.name,detail:t},e(t.subMenus)):b.a.createElement(D,{key:t.id,title:t.name,detail:t})})}(this.state.menuLists))),this.state.visible?b.a.createElement(S,{title:this.state.isEditor?"\u7f16\u8f91\u83dc\u5355":"\u65b0\u5efa\u83dc\u5355",visible:this.state.visible,isEditor:this.state.isEditor,onOk:this.saveAction,activeData:this.state.activeData,onCancel:function(){return e.setState({visible:!1,isEditor:!1})}}):null)}}]),t}(b.a.Component);t.default=j}}]);
//# sourceMappingURL=21.9901c941.chunk.js.map