{"version":3,"sources":["../static/js/13.93e9bbfd.chunk.js","webpack:///./src/common/template/AccessManage/Authority/style.less?f9bf","common/template/AccessManage/Authority/index.js","common/template/AccessManage/Authority/RoleLists.js","common/template/AccessManage/Authority/AddOrEditRoleModel.js","common/template/AccessManage/Authority/style.less","common/template/AccessManage/Authority/MenuLists.js"],"names":["webpackJsonp","1086","module","exports","__webpack_require__","content","i","options","hmr","transform","locals","1264","__webpack_exports__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__RoleLists__","__WEBPACK_IMPORTED_MODULE_3__MenuLists__","__WEBPACK_IMPORTED_MODULE_4__style_less__","_createClass","defineProperties","target","props","length","descriptor","key","protoProps","staticProps","Authority","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","state","activeRole","changeRole","setState","a","createElement","style","padding","type","gutter","sm","xl","xxl","minHeight","Component","1265","__WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__","__WEBPACK_IMPORTED_MODULE_3__style_less__","RoleLists","roleLists","activeIndex","undefined","visible","isEditor","editData","getDataLists","res","success","msg","obj","id","roleName","errorCode","index","addAction","editorAction","deleteAction","item","Modal","confirm","title","onOk","message","error","onCancel","okText","cancelText","saveAction","values","remark","data","sourceCode","rowClick","_this2","className","height","overflowY","color","lineHeight","extra","icon","onClick","dataSource","renderItem","Item","actions","href","e","stopPropagation","1266","__WEBPACK_IMPORTED_MODULE_2__components_MainModal__","FormItem","Form","formItemLayout","labelCol","span","wrapperCol","paddingLeft","AddOrEditRole","sureAction","form","validateFields","err","getFieldDecorator","assign","label","rules","required","initialValue","placeholder","TextArea","resize","AddOrEditRoleModel","1267","push","version","sources","names","mappings","file","sourcesContent","sourceRoot","1268","__WEBPACK_IMPORTED_MODULE_2__style_less__","CheckboxGroup","Checkbox","Group","subMenuStyle","borderTop","borderBottom","overflow","marginBottom","MenuLists","menuLists","roleMenuData","getRoleMenuLists","roleId","menu","changeCheckMenu","checkedValue","newValue","oldValue","isAdd","changeValue","forEach","isParent","filter","j","subMenus","some","arr","map","hasOther","m","parentId","name","url","iconUrl","iconSelectedUrl","seq","tags","nextProps","onChange","childItem","textAlign"],"mappings":"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","file":"static/js/13.93e9bbfd.chunk.js","sourcesContent":["webpackJsonp([13],{\n\n/***/ 1086:\n/***/ (function(module, exports, __webpack_require__) {\n\n// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = __webpack_require__(1267);\nif(typeof content === 'string') content = [[module.i, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = __webpack_require__(1059)(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n/***/ }),\n\n/***/ 1264:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__RoleLists__ = __webpack_require__(1265);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__MenuLists__ = __webpack_require__(1268);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style_less__ = __webpack_require__(1086);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_4__style_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_4__style_less__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */var Authority=function(_Component){_inherits(Authority,_Component);function Authority(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Authority);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Authority.__proto__||Object.getPrototypeOf(Authority)).call.apply(_ref,[this].concat(args))),_this),_this.state={activeRole:{}//当前选中的角色\n},_this.changeRole=function(activeRole){_this.setState({activeRole:activeRole});//设置当前选中的角色\n},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Authority,[{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{padding:'20px'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"u\" /* Row */],{type:'flex',gutter:20},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"g\" /* Col */],{sm:8,xl:7,xxl:6,style:{minHeight:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__RoleLists__[\"a\" /* default */],{changeRole:this.changeRole})),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"g\" /* Col */],{sm:16,xl:17,xxl:18,style:{minHeight:'100%'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__MenuLists__[\"a\" /* default */],{activeRole:this.state.activeRole}))));}}]);return Authority;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"default\"] = (Authority);\n\n/***/ }),\n\n/***/ 1265:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__ = __webpack_require__(1266);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_less__ = __webpack_require__(1086);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__style_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_3__style_less__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */var RoleLists=function(_Component){_inherits(RoleLists,_Component);function RoleLists(){var _ref;var _temp,_this,_ret;_classCallCheck(this,RoleLists);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=RoleLists.__proto__||Object.getPrototypeOf(RoleLists)).call.apply(_ref,[this].concat(args))),_this),_this.state={roleLists:[],//角色列表\nactiveIndex:0,//当前选中角色的索引\nactiveRole:undefined,//当前选中的角色\nvisible:false,//是否显示新增或修改模态框\nisEditor:false,//是否是编辑\neditData:undefined//当前编辑的角色的信息\n},_this.getDataLists=function(activeIndex){//获取角色列表\nvar res={\"success\":true,\"msg\":\"成功\",\"obj\":[{\"id\":1,\"roleName\":\"领导\"},{\"id\":10,\"roleName\":\"学生\"},{\"id\":20,\"roleName\":\"辅导员\"},{\"id\":21,\"roleName\":\"代课教师\"},{\"id\":29,\"roleName\":\"超级管理员\"}],\"errorCode\":null};if(res.success){var index=activeIndex||0;//当前选中的索引，默认为0\n_this.setState({activeRole:res.obj[index],roleLists:res.obj||[]},function(){_this.props.changeRole(res.obj[index]);//把当前选中的角色信息传到父组件\n});}},_this.addAction=function(){_this.setState({visible:true,isEditor:false,editData:undefined});},_this.editorAction=function(editData){_this.setState({visible:true,isEditor:true,editData:editData});},_this.deleteAction=function(item){__WEBPACK_IMPORTED_MODULE_1_antd__[\"p\" /* Modal */].confirm({title:'\\u786E\\u5B9A\\u5220\\u9664'+item.roleName+'?',onOk:function onOk(){//进行删除操作\n// let data = {\n//     id: item.id\n// }\nvar res={success:false,obj:'服务异常！'};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success('删除成功！');_this.getDataLists();}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}},onCancel:function onCancel(){},okText:'确定',cancelText:'取消'});},_this.saveAction=function(values){var isEditor=_this.state.isEditor;var roleName=values.roleName,remark=values.remark;var data={roleName:roleName,remark:remark,sourceCode:'pc'};// let url = '/bigdata/system/role/save'; //新增时的角色保存接口\nif(isEditor){//编辑角色时修改请求接口、添加角色id参数\n// url = '/bigdata/system/role/update';\ndata.id=_this.state.editData.id;}//进行保存操作，根据返回数据对页面进行处理\nvar res={success:true};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success('保存成功！');_this.setState({visible:false,isEditor:false,editData:undefined});_this.getDataLists(_this.state.activeIndex);}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}},_this.rowClick=function(item,activeIndex){_this.setState({activeIndex:activeIndex},function(){_this.props.changeRole(item);//把当前选中的角色信息传到父组件\n});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(RoleLists,[{key:'componentWillMount',value:function componentWillMount(){//获取角色列表\nthis.getDataLists();}//新增角色，显示模态框，清空编辑数据\n//编辑角色，显示模态框，获取当前编辑的角色信息\n//删除角色\n//编辑和新增确定时保存角色信息\n//当前角色点击、设置当前选中的索引，显示高亮\n},{key:'render',value:function render(){var _this2=this;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Card */],{className:'authority-roleLists',style:{height:'100%',overflowY:'auto'},title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{color:'#1890FF',lineHeight:'34px'}},'\\u89D2\\u8272'),extra:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{icon:'plus',type:'primary',onClick:this.addAction},'\\u6DFB\\u52A0\\u89D2\\u8272')},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* List */],{dataSource:this.state.roleLists,renderItem:function renderItem(item,index){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"m\" /* List */].Item,{className:index===_this2.state.activeIndex?'active':'',onClick:function onClick(){return _this2.rowClick(item,index);},actions:[__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{style:{color:'#71CF09'},href:'javascript:;',onClick:function onClick(){return _this2.editorAction(item,index);}},'\\u7F16\\u8F91'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('a',{style:{color:'#E45A5A'},href:'javascript:;',onClick:function onClick(e){e.stopPropagation();_this2.deleteAction(item,index);}},'\\u5220\\u9664')]},item.roleName);}}),this.state.visible?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__[\"a\" /* default */],{title:this.state.isEditor?'修改角色':'添加角色',visible:this.state.visible,onOk:this.saveAction,editData:this.state.editData,onCancel:function onCancel(){return _this2.setState({visible:false,isEditor:false,editData:undefined});}}):null);}}]);return RoleLists;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (RoleLists);\n\n/***/ }),\n\n/***/ 1266:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_MainModal__ = __webpack_require__(1062);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */var FormItem=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].Item;var formItemLayout={labelCol:{span:4},wrapperCol:{span:19,style:{paddingLeft:'10px'}}};var AddOrEditRole=function(_Component){_inherits(AddOrEditRole,_Component);function AddOrEditRole(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AddOrEditRole);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddOrEditRole.__proto__||Object.getPrototypeOf(AddOrEditRole)).call.apply(_ref,[this].concat(args))),_this),_this.sureAction=function(){_this.props.form.validateFields(function(err,values){if(!err){_this.props.onOk(values);}});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AddOrEditRole,[{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var editData=this.props.editData;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__components_MainModal__[\"a\" /* default */],{title:this.props.title,visible:true,onOk:this.sureAction,onCancel:this.props.onCancel,okText:'\\u786E\\u5B9A',cancelText:'\\u53D6\\u6D88'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u89D2\\u8272\\u540D\\u79F0'}),getFieldDecorator('roleName',{rules:[{required:true,message:'请输入角色名称(不超过8字)'}],initialValue:editData&&editData.roleName})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u540D\\u79F0(\\u4E0D\\u8D85\\u8FC78\\u5B57)'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u89D2\\u8272\\u63CF\\u8FF0'}),getFieldDecorator('remark',{initialValue:editData&&editData.remark})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */].TextArea,{style:{resize:'none',height:60},placeholder:'\\u8BF7\\u8F93\\u5165\\u89D2\\u8272\\u63CF\\u8FF0(\\u4E0D\\u8D85\\u8FC720\\u5B57)'}))));}}]);return AddOrEditRole;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var AddOrEditRoleModel=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].create()(AddOrEditRole);/* harmony default export */ __webpack_exports__[\"a\"] = (AddOrEditRoleModel);\n\n/***/ }),\n\n/***/ 1267:\n/***/ (function(module, exports, __webpack_require__) {\n\nexports = module.exports = __webpack_require__(1058)(true);\n// imports\n\n\n// module\nexports.push([module.i, \".authority-roleLists .ant-card-body{padding:0}.authority-roleLists .ant-list-item{padding-left:20px;padding-right:20px}.authority-roleLists .active{background-color:#e6f7ff}\", \"\", {\"version\":3,\"sources\":[\"D:/sunmnet/template/src/common/template/AccessManage/Authority/style.less\"],\"names\":[],\"mappings\":\"AAAA,oCACE,SAAa,CACd,AACD,oCACE,kBAAmB,AACnB,kBAAoB,CACrB,AACD,6BACE,wBAA0B,CAC3B\",\"file\":\"style.less\",\"sourcesContent\":[\".authority-roleLists .ant-card-body {\\n  padding: 0px;\\n}\\n.authority-roleLists .ant-list-item {\\n  padding-left: 20px;\\n  padding-right: 20px;\\n}\\n.authority-roleLists .active {\\n  background-color: #E6F7FF;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n/***/ }),\n\n/***/ 1268:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_less__ = __webpack_require__(1086);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__style_less___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_2__style_less__);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */var CheckboxGroup=__WEBPACK_IMPORTED_MODULE_1_antd__[\"f\" /* Checkbox */].Group;//权限配置子菜单样式\nvar subMenuStyle={borderTop:'1px solid #ccc',borderBottom:'1px solid #ccc',overflow:'auto',lineHeight:'52px',paddingLeft:'46px',marginBottom:'20px'};var MenuLists=function(_Component){_inherits(MenuLists,_Component);function MenuLists(){var _ref;var _temp,_this,_ret;_classCallCheck(this,MenuLists);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=MenuLists.__proto__||Object.getPrototypeOf(MenuLists)).call.apply(_ref,[this].concat(args))),_this),_this.state={menuLists:[],//菜单列表\nroleMenuData:[]},_this.getRoleMenuLists=function(data){//获取当前角色的权限列表\nvar res={\"success\":true,\"msg\":\"成功\",\"obj\":{\"roleId\":1,\"menu\":[150,151,152,2,4,153]},\"errorCode\":null};if(res.success){_this.setState({roleMenuData:res.obj.menu||[]});}},_this.changeCheckMenu=function(checkedValue){var newValue=Object.assign([],checkedValue);//变化后\nvar oldValue=Object.assign([],_this.state.roleMenuData);//变化前\nvar isAdd=newValue.length>oldValue.length;//是否增加\nvar changeValue=void 0;//选中取消改变的值\nif(isAdd){changeValue=newValue[newValue.length-1];}else{oldValue.forEach(function(item,i){if(!changeValue&&item!==newValue[i]){changeValue=item;}});}//是否是父节点\nvar isParent=_this.state.menuLists.filter(function(item){return changeValue===item.id;})[0];var menuLists=_this.state.menuLists;var _loop=function _loop(i){if(isParent&&menuLists[i].id===changeValue){//父节点\nif(isAdd){//选中父节点\nfor(var j=0;j<menuLists[i].subMenus.length;j++){newValue.push(menuLists[i].subMenus[j].id);}}else{var _loop2=function _loop2(_j){newValue=newValue.filter(function(id){return id!==menuLists[i].subMenus[_j].id;});};//取消父节点\nfor(var _j=0;_j<menuLists[i].subMenus.length;_j++){_loop2(_j);}}}else if(menuLists[i].subMenus.length>0){//子节点\nif(isAdd){//选中子节点\nfor(var _j2=0;_j2<menuLists[i].subMenus.length;_j2++){if(menuLists[i].subMenus[_j2].id===changeValue&&!newValue.some(function(item){return item===menuLists[i].id;})){newValue.push(menuLists[i].id);}}}else{//取消子节点\nfor(var _j3=0;_j3<menuLists[i].subMenus.length;_j3++){if(menuLists[i].subMenus[_j3].id===changeValue){(function(){var arr=menuLists[i].subMenus.map(function(item){return item.id;});var hasOther=false;var _loop3=function _loop3(m){if(newValue.some(function(n){return n===arr[m];})){hasOther=true;}};for(var m=0;m<arr.length;m++){_loop3(m);}if(!hasOther){newValue=newValue.filter(function(id){return id!==menuLists[i].id;});}})();}}}}};for(var i=0;i<menuLists.length;i++){_loop(i);}_this.setState({roleMenuData:newValue});},_this.saveAction=function(){// 进行保存操作，获取对应数据，发送请求，根据请求返回就行相应提示\n// let data = {\n//     roleId: this.props.activeRole.id,\n//     menuIds: this.state.roleMenuData.join(',')\n// }\nvar res={success:true};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success('权限配置成功！');}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(MenuLists,[{key:'componentWillMount',value:function componentWillMount(){//获取菜单列表,根绝请求数据设置菜单列表\nvar res={\"success\":true,\"msg\":\"成功\",\"obj\":[{\"id\":150,\"parentId\":-1,\"name\":\"综合画像\",\"url\":\"\",\"iconUrl\":\"n_ico2.png\",\"iconSelectedUrl\":\"n_ico2.png\",\"seq\":11,\"tags\":[],\"subMenus\":[{\"id\":151,\"parentId\":150,\"name\":\"群体画像\",\"url\":\"/mainframe/GroupPortrait\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":12,\"tags\":[],\"subMenus\":[]},{\"id\":152,\"parentId\":150,\"name\":\"个人画像\",\"url\":\"/mainframe/personalportrait\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":13,\"tags\":[],\"subMenus\":[]}]},{\"id\":2,\"parentId\":-1,\"name\":\"轨迹分析\",\"url\":\"\",\"iconUrl\":\"n_ico3.png\",\"iconSelectedUrl\":\"n_ico3.png\",\"seq\":14,\"tags\":[],\"subMenus\":[{\"id\":4,\"parentId\":2,\"name\":\"个人轨迹\",\"url\":\"/mainframe/personalpath\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":58,\"tags\":[],\"subMenus\":[]},{\"id\":153,\"parentId\":2,\"name\":\"群体轨迹\",\"url\":\"/mainframe/grouppath\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":59,\"tags\":[],\"subMenus\":[]}]},{\"id\":178,\"parentId\":-1,\"name\":\"综合预警\",\"url\":\"/mainframe/comprehensivewarning\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":256,\"tags\":[],\"subMenus\":[]},{\"id\":179,\"parentId\":-1,\"name\":\"系统设置\",\"url\":\"/mainframe/systemsetup\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":257,\"tags\":[],\"subMenus\":[{\"id\":180,\"parentId\":179,\"name\":\"预警设置\",\"url\":\"/mainframe/systemsetup/earlywarningsetting\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":387,\"tags\":[],\"subMenus\":[]},{\"id\":181,\"parentId\":179,\"name\":\"行为轨迹设置\",\"url\":\"/mainframe/systemsetup/behaviortrajectory\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":388,\"tags\":[],\"subMenus\":[]}]},{\"id\":10,\"parentId\":-1,\"name\":\"权限管理\",\"url\":\"\",\"iconUrl\":\"xitongguanli.png\",\"iconSelectedUrl\":\"xitongguanli2.png\",\"seq\":259,\"tags\":[],\"subMenus\":[{\"id\":25,\"parentId\":10,\"name\":\"账户管理\",\"url\":\"/mainframe/accessmanage/account\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":264,\"tags\":[],\"subMenus\":[]},{\"id\":24,\"parentId\":10,\"name\":\"菜单管理\",\"url\":\"/mainframe/accessmanage/menu\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":265,\"tags\":[],\"subMenus\":[]},{\"id\":26,\"parentId\":10,\"name\":\"权限配置\",\"url\":\"/mainframe/accessmanage/authority\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":266,\"tags\":[],\"subMenus\":[]}]}],\"errorCode\":null};if(res.success){this.setState({menuLists:res.obj||[]});}}},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){//当选中角色改变时重新获取权限配置\nif(nextProps.activeRole.id!==this.props.activeRole.id){this.getRoleMenuLists({roleId:nextProps.activeRole.id,sourceCode:'pc'});}}//获取角色菜单权限列表\n//修改菜单权限\n//保存修改后的菜单权限\n},{key:'render',value:function render(){// console.log(this.state.menuLists)\nreturn __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Card */],{title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{color:'#1890FF'}},this.props.activeRole.roleName,'\\u89D2\\u8272\\u6743\\u9650\\u914D\\u7F6E')},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(CheckboxGroup,{value:this.state.roleMenuData,onChange:this.changeCheckMenu},this.state.menuLists.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{key:item.id},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{height:'52px',lineHeight:'52px'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"f\" /* Checkbox */],{value:item.id},item.name)),item.subMenus.length>0&&__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:subMenuStyle},item.subMenus.map(function(childItem){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"f\" /* Checkbox */],{value:childItem.id,key:childItem.id},childItem.name);})));}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{textAlign:'right'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{type:'primary',onClick:this.saveAction},'\\u4FDD\\u5B58')));}}]);return MenuLists;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);/* harmony default export */ __webpack_exports__[\"a\"] = (MenuLists);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/13.93e9bbfd.chunk.js","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!../../../../../node_modules/_css-loader@0.28.7@css-loader/index.js??ref--2-oneOf-2-2!../../../../../node_modules/_postcss-loader@2.0.8@postcss-loader/lib/index.js??postcss!../../../../../node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./style.less\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// Prepare cssTransformation\nvar transform;\n\nvar options = {\"hmr\":false}\noptions.transform = transform\n// add the styles to the DOM\nvar update = require(\"!../../../../../node_modules/_style-loader@0.19.0@style-loader/lib/addStyles.js\")(content, options);\nif(content.locals) module.exports = content.locals;\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/common/template/AccessManage/Authority/style.less\n// module id = 1086\n// module chunks = 13","/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Row, Col } from 'antd';\r\nimport RoleLists from './RoleLists'\r\nimport MenuLists from './MenuLists'\r\nimport './style.less'\r\n\r\nclass Authority extends Component {\r\n\tstate = {\r\n\t\tactiveRole: {}, //当前选中的角色\r\n\t}\r\n\tchangeRole = (activeRole)=>{\r\n\t\tthis.setState({activeRole}); //设置当前选中的角色\r\n\t}\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<div style={{padding:'20px'}}>\r\n\t\t\t\t<Row type={'flex'} gutter={20}>\r\n\t\t\t\t\t<Col sm={8} xl={7} xxl={6} style={{minHeight:'100%'}}>\r\n\t\t\t\t\t\t<RoleLists changeRole={this.changeRole} />\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t\t<Col sm={16} xl={17} xxl={18} style={{minHeight:'100%'}}>\r\n\t\t\t\t\t\t<MenuLists activeRole={this.state.activeRole}/>\r\n\t\t\t\t\t</Col>\r\n\t\t\t\t</Row>\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Authority;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Authority/index.js","/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Card, Button, List, message, Modal } from 'antd';\r\nimport AddOrEditRoleModel from './AddOrEditRoleModel'\r\nimport './style.less'\r\n\r\nclass RoleLists extends Component {\r\n\tstate = {\r\n        roleLists: [], //角色列表\r\n        activeIndex: 0, //当前选中角色的索引\r\n        activeRole: undefined, //当前选中的角色\r\n        visible: false, //是否显示新增或修改模态框\r\n        isEditor: false, //是否是编辑\r\n        editData: undefined, //当前编辑的角色的信息\r\n\t}\r\n\tcomponentWillMount() {\r\n        //获取角色列表\r\n\t\tthis.getDataLists();\r\n    }\r\n    getDataLists = (activeIndex) => {\r\n        //获取角色列表\r\n        const res = {\r\n            \"success\": true,\r\n            \"msg\": \"成功\",\r\n            \"obj\": [\r\n                {\r\n                    \"id\": 1,\r\n                    \"roleName\": \"领导\",\r\n                },\r\n                {\r\n                    \"id\": 10,\r\n                    \"roleName\": \"学生\",\r\n                },\r\n                {\r\n                    \"id\": 20,\r\n                    \"roleName\": \"辅导员\",\r\n                },\r\n                {\r\n                    \"id\": 21,\r\n                    \"roleName\": \"代课教师\",\r\n                },\r\n                {\r\n                    \"id\": 29,\r\n                    \"roleName\": \"超级管理员\",\r\n                }\r\n            ],\r\n            \"errorCode\": null\r\n        }\r\n\t\tif(res.success){\r\n            let index = activeIndex || 0; //当前选中的索引，默认为0\r\n            this.setState({\r\n                activeRole: res.obj[index],\r\n                roleLists: res.obj || []\r\n            },()=>{\r\n                this.props.changeRole(res.obj[index]); //把当前选中的角色信息传到父组件\r\n            })\r\n        }\r\n    }\r\n    //新增角色，显示模态框，清空编辑数据\r\n    addAction = () => {\r\n        this.setState({visible:true,isEditor:false,editData:undefined})\r\n    }\r\n    //编辑角色，显示模态框，获取当前编辑的角色信息\r\n    editorAction = (editData) => {\r\n        this.setState({visible:true,isEditor:true,editData})\r\n    }\r\n    //删除角色\r\n    deleteAction = (item) => {\r\n        Modal.confirm({\r\n            title: `确定删除${item.roleName}?`,\r\n            onOk:()=> {\r\n                //进行删除操作\r\n                \r\n                // let data = {\r\n                //     id: item.id\r\n                // }\r\n                const res = { success:false,obj:'服务异常！' }\r\n                if(res.success){\r\n                    message.success('删除成功！');\r\n                    this.getDataLists();\r\n                } else {\r\n                    message.error(res.obj);\r\n                }\r\n            },\r\n            onCancel() {},\r\n            okText:'确定',\r\n            cancelText:'取消',\r\n        });\r\n        \r\n    }\r\n    //编辑和新增确定时保存角色信息\r\n    saveAction = (values) => {\r\n        let isEditor = this.state.isEditor;\r\n        let { roleName, remark } = values;\r\n        let data = {roleName, remark, sourceCode: 'pc'};\r\n        // let url = '/bigdata/system/role/save'; //新增时的角色保存接口\r\n        if(isEditor){ //编辑角色时修改请求接口、添加角色id参数\r\n            // url = '/bigdata/system/role/update';\r\n            data.id = this.state.editData.id\r\n        }\r\n        \r\n        //进行保存操作，根据返回数据对页面进行处理\r\n        const res = {success:true};\r\n        if(res.success) {\r\n            message.success('保存成功！');\r\n            this.setState({visible:false,isEditor:false,editData:undefined});\r\n            this.getDataLists(this.state.activeIndex);\r\n        } else {\r\n            message.error(res.obj);\r\n        }\r\n    }\r\n    //当前角色点击、设置当前选中的索引，显示高亮\r\n    rowClick = (item,activeIndex) => {\r\n        this.setState({activeIndex},()=>{\r\n            this.props.changeRole(item); //把当前选中的角色信息传到父组件\r\n        });\r\n    }\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Card\r\n                className={'authority-roleLists'}\r\n                style={{height:'100%',overflowY:'auto'}}\r\n                title={<span style={{color:'#1890FF',lineHeight:'34px'}}>角色</span>}\r\n                extra={<Button icon=\"plus\" type=\"primary\" onClick={this.addAction}>添加角色</Button>}\r\n            >\r\n                <List\r\n                    dataSource={this.state.roleLists}\r\n                    renderItem={(item,index) => (\r\n                        <List.Item \r\n                            className={index===this.state.activeIndex?'active':''}\r\n                            onClick={()=>this.rowClick(item,index)}\r\n                            actions={[<a style={{color:'#71CF09'}} href=\"javascript:;\" onClick={()=>this.editorAction(item,index)}>编辑</a>, \r\n                                <a style={{color:'#E45A5A'}} href=\"javascript:;\" onClick={(e)=>{\r\n                                    e.stopPropagation();\r\n                                    this.deleteAction(item,index);\r\n                                }}>删除</a>]}>\r\n                            {item.roleName}\r\n                        </List.Item>)}\r\n                />\r\n                {this.state.visible?(\r\n                    <AddOrEditRoleModel\r\n                        title={this.state.isEditor?'修改角色':'添加角色'}\r\n                        visible={this.state.visible}\r\n                        onOk={this.saveAction}\r\n                        editData={this.state.editData}\r\n                        onCancel={()=>this.setState({visible:false,isEditor:false,editData:undefined})}\r\n                    />\r\n                ):null}\r\n            </Card>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default RoleLists;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Authority/RoleLists.js","/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Input } from 'antd';\r\nimport MainModal from '../../../components/MainModal';\r\n\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 19, style:{paddingLeft:'10px'}},\r\n};\r\n\r\nclass AddOrEditRole extends Component {\r\n    sureAction = () => {\r\n        this.props.form.validateFields(\r\n            (err,values) => {\r\n                if (!err) {\r\n                    this.props.onOk(values);\r\n                }\r\n            },\r\n        );\r\n    }\r\n\trender () {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let editData = this.props.editData\r\n\t\treturn (\r\n\t\t\t<MainModal\r\n                title={this.props.title}\r\n                visible={true}\r\n                onOk={this.sureAction}\r\n                onCancel={this.props.onCancel}\r\n                okText=\"确定\"\r\n                cancelText=\"取消\"\r\n            >\r\n                <FormItem {...formItemLayout} label=\"角色名称\">\r\n                    {getFieldDecorator('roleName', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入角色名称(不超过8字)'\r\n                        }],\r\n                        initialValue: editData&&editData.roleName\r\n                    })(\r\n                        <Input placeholder=\"请输入角色名称(不超过8字)\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"角色描述\">\r\n                    {getFieldDecorator('remark', {\r\n                        initialValue: editData&&editData.remark\r\n                    })(\r\n                        <Input.TextArea style={{resize:'none',height:60}} placeholder=\"请输入角色描述(不超过20字)\"/>\r\n                    )}\r\n                </FormItem>\r\n            </MainModal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst AddOrEditRoleModel = Form.create()(AddOrEditRole);\r\nexport default AddOrEditRoleModel;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Authority/AddOrEditRoleModel.js","exports = module.exports = require(\"../../../../../node_modules/_css-loader@0.28.7@css-loader/lib/css-base.js\")(true);\n// imports\n\n\n// module\nexports.push([module.id, \".authority-roleLists .ant-card-body{padding:0}.authority-roleLists .ant-list-item{padding-left:20px;padding-right:20px}.authority-roleLists .active{background-color:#e6f7ff}\", \"\", {\"version\":3,\"sources\":[\"D:/sunmnet/template/src/common/template/AccessManage/Authority/style.less\"],\"names\":[],\"mappings\":\"AAAA,oCACE,SAAa,CACd,AACD,oCACE,kBAAmB,AACnB,kBAAoB,CACrB,AACD,6BACE,wBAA0B,CAC3B\",\"file\":\"style.less\",\"sourcesContent\":[\".authority-roleLists .ant-card-body {\\n  padding: 0px;\\n}\\n.authority-roleLists .ant-list-item {\\n  padding-left: 20px;\\n  padding-right: 20px;\\n}\\n.authority-roleLists .active {\\n  background-color: #E6F7FF;\\n}\\n\"],\"sourceRoot\":\"\"}]);\n\n// exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/_css-loader@0.28.7@css-loader?{\"importLoaders\":1,\"minimize\":true,\"sourceMap\":true}!./node_modules/_postcss-loader@2.0.8@postcss-loader/lib?{\"ident\":\"postcss\",\"plugins\":[null,null]}!./node_modules/_less-loader@4.1.0@less-loader/dist/cjs.js!./src/common/template/AccessManage/Authority/style.less\n// module id = 1267\n// module chunks = 13","/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Card, Checkbox, Button, message } from 'antd';\r\nimport './style.less'\r\n\r\nconst CheckboxGroup = Checkbox.Group;\r\n\r\n//权限配置子菜单样式\r\nconst subMenuStyle = {\r\n    borderTop:'1px solid #ccc',\r\n    borderBottom:'1px solid #ccc',\r\n    overflow:'auto',\r\n    lineHeight:'52px',\r\n    paddingLeft:'46px',\r\n    marginBottom: '20px'\r\n}\r\n\r\nclass MenuLists extends Component {\r\n    state = {\r\n        menuLists:[],//菜单列表\r\n        roleMenuData:[]\r\n    }\r\n    componentWillMount() {\r\n        //获取菜单列表,根绝请求数据设置菜单列表\r\n        const res = {\r\n            \"success\": true,\r\n            \"msg\": \"成功\",\r\n            \"obj\": [\r\n                {\r\n                    \"id\": 150,\r\n                    \"parentId\": -1,\r\n                    \"name\": \"综合画像\",\r\n                    \"url\": \"\",\r\n                    \"iconUrl\": \"n_ico2.png\",\r\n                    \"iconSelectedUrl\": \"n_ico2.png\",\r\n                    \"seq\": 11,\r\n                    \"tags\": [],\r\n                    \"subMenus\": [\r\n                        {\r\n                            \"id\": 151,\r\n                            \"parentId\": 150,\r\n                            \"name\": \"群体画像\",\r\n                            \"url\": \"/mainframe/GroupPortrait\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 12,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        },\r\n                        {\r\n                            \"id\": 152,\r\n                            \"parentId\": 150,\r\n                            \"name\": \"个人画像\",\r\n                            \"url\": \"/mainframe/personalportrait\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 13,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"id\": 2,\r\n                    \"parentId\": -1,\r\n                    \"name\": \"轨迹分析\",\r\n                    \"url\": \"\",\r\n                    \"iconUrl\": \"n_ico3.png\",\r\n                    \"iconSelectedUrl\": \"n_ico3.png\",\r\n                    \"seq\": 14,\r\n                    \"tags\": [],\r\n                    \"subMenus\": [\r\n                        {\r\n                            \"id\": 4,\r\n                            \"parentId\": 2,\r\n                            \"name\": \"个人轨迹\",\r\n                            \"url\": \"/mainframe/personalpath\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 58,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        },\r\n                        {\r\n                            \"id\": 153,\r\n                            \"parentId\": 2,\r\n                            \"name\": \"群体轨迹\",\r\n                            \"url\": \"/mainframe/grouppath\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 59,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"id\": 178,\r\n                    \"parentId\": -1,\r\n                    \"name\": \"综合预警\",\r\n                    \"url\": \"/mainframe/comprehensivewarning\",\r\n                    \"iconUrl\": \"\",\r\n                    \"iconSelectedUrl\": \"\",\r\n                    \"seq\": 256,\r\n                    \"tags\": [],\r\n                    \"subMenus\": []\r\n                },\r\n                {\r\n                    \"id\": 179,\r\n                    \"parentId\": -1,\r\n                    \"name\": \"系统设置\",\r\n                    \"url\": \"/mainframe/systemsetup\",\r\n                    \"iconUrl\": \"\",\r\n                    \"iconSelectedUrl\": \"\",\r\n                    \"seq\": 257,\r\n                    \"tags\": [],\r\n                    \"subMenus\": [\r\n                        {\r\n                            \"id\": 180,\r\n                            \"parentId\": 179,\r\n                            \"name\": \"预警设置\",\r\n                            \"url\": \"/mainframe/systemsetup/earlywarningsetting\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 387,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        },\r\n                        {\r\n                            \"id\": 181,\r\n                            \"parentId\": 179,\r\n                            \"name\": \"行为轨迹设置\",\r\n                            \"url\": \"/mainframe/systemsetup/behaviortrajectory\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 388,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        }\r\n                    ]\r\n                },\r\n                {\r\n                    \"id\": 10,\r\n                    \"parentId\": -1,\r\n                    \"name\": \"权限管理\",\r\n                    \"url\": \"\",\r\n                    \"iconUrl\": \"xitongguanli.png\",\r\n                    \"iconSelectedUrl\": \"xitongguanli2.png\",\r\n                    \"seq\": 259,\r\n                    \"tags\": [],\r\n                    \"subMenus\": [\r\n                        {\r\n                            \"id\": 25,\r\n                            \"parentId\": 10,\r\n                            \"name\": \"账户管理\",\r\n                            \"url\": \"/mainframe/accessmanage/account\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 264,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        },\r\n                        {\r\n                            \"id\": 24,\r\n                            \"parentId\": 10,\r\n                            \"name\": \"菜单管理\",\r\n                            \"url\": \"/mainframe/accessmanage/menu\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 265,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        },\r\n                        {\r\n                            \"id\": 26,\r\n                            \"parentId\": 10,\r\n                            \"name\": \"权限配置\",\r\n                            \"url\": \"/mainframe/accessmanage/authority\",\r\n                            \"iconUrl\": \"\",\r\n                            \"iconSelectedUrl\": \"\",\r\n                            \"seq\": 266,\r\n                            \"tags\": [],\r\n                            \"subMenus\": []\r\n                        }\r\n                    ]\r\n                }\r\n            ],\r\n            \"errorCode\": null\r\n        }\r\n        \r\n        if(res.success){\r\n            this.setState({\r\n                menuLists: res.obj || []\r\n            })\r\n        }\r\n    }\r\n    componentWillReceiveProps(nextProps) {\r\n        //当选中角色改变时重新获取权限配置\r\n        if(nextProps.activeRole.id !== this.props.activeRole.id ){\r\n            this.getRoleMenuLists({roleId:nextProps.activeRole.id,sourceCode:'pc'})\r\n        }\r\n    }\r\n    //获取角色菜单权限列表\r\n    getRoleMenuLists = (data)=> {\r\n        //获取当前角色的权限列表\r\n        const res = {\r\n            \"success\": true,\r\n            \"msg\": \"成功\",\r\n            \"obj\": {\r\n                \"roleId\": 1,\r\n                \"menu\": [\r\n                    150,\r\n                    151,\r\n                    152,\r\n                    2,\r\n                    4,\r\n                    153\r\n                ]\r\n            },\r\n            \"errorCode\": null\r\n        }\r\n\t\tif(res.success){\r\n            this.setState({roleMenuData:res.obj.menu || []})\r\n        }\r\n    }\r\n    //修改菜单权限\r\n    changeCheckMenu = (checkedValue) => {\r\n        let newValue = Object.assign([],checkedValue);//变化后\r\n        let oldValue = Object.assign([],this.state.roleMenuData);//变化前\r\n        let isAdd = newValue.length>oldValue.length;//是否增加\r\n        let changeValue;//选中取消改变的值\r\n        if(isAdd){\r\n            changeValue = newValue[newValue.length-1];\r\n        } else {\r\n            oldValue.forEach((item,i)=>{\r\n                if(!changeValue && item!==newValue[i]){\r\n                    changeValue = item;\r\n                }\r\n            })\r\n        }\r\n\r\n        //是否是父节点\r\n        const isParent = this.state.menuLists.filter(item => changeValue === item.id)[0];\r\n\r\n        let menuLists = this.state.menuLists;\r\n        for(let i = 0;i<menuLists.length;i++) {\r\n            if(isParent && menuLists[i].id===changeValue){ //父节点\r\n                if(isAdd){ //选中父节点\r\n                    for(let j=0;j<menuLists[i].subMenus.length;j++){\r\n                        newValue.push(menuLists[i].subMenus[j].id);\r\n                    }\r\n                } else {\r\n                    //取消父节点\r\n                    for(let j=0;j<menuLists[i].subMenus.length;j++){\r\n                        newValue = newValue.filter(id=>id!==menuLists[i].subMenus[j].id);\r\n                    }\r\n                }\r\n            } else if(menuLists[i].subMenus.length>0){ //子节点\r\n                if(isAdd) {//选中子节点\r\n                    for(let j=0;j<menuLists[i].subMenus.length;j++){\r\n                        if(menuLists[i].subMenus[j].id===changeValue && !newValue.some(item=>item===menuLists[i].id)){\r\n                            newValue.push(menuLists[i].id)\r\n                        }\r\n                    }\r\n                } else {//取消子节点\r\n                    for(let j=0;j<menuLists[i].subMenus.length;j++){\r\n                        if(menuLists[i].subMenus[j].id===changeValue){\r\n                            let arr = menuLists[i].subMenus.map(item=>item.id);\r\n                            let hasOther = false;\r\n                            for(let m=0;m<arr.length;m++) {\r\n                                if(newValue.some(n=>n===arr[m])){\r\n                                    hasOther = true;\r\n                                }\r\n                            }\r\n                            if(!hasOther){\r\n                                newValue = newValue.filter(id=>id!==menuLists[i].id);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        this.setState({roleMenuData:newValue})\r\n    }\r\n    //保存修改后的菜单权限\r\n    saveAction = () => {\r\n        // 进行保存操作，获取对应数据，发送请求，根据请求返回就行相应提示\r\n        // let data = {\r\n        //     roleId: this.props.activeRole.id,\r\n        //     menuIds: this.state.roleMenuData.join(',')\r\n        // }\r\n        const res = {success:true};\r\n        if(res.success) {\r\n            message.success('权限配置成功！');\r\n        } else {\r\n            message.error(res.obj);\r\n        }\r\n        \r\n    }\r\n\trender () {\r\n        // console.log(this.state.menuLists)\r\n\t\treturn (\r\n\t\t\t<Card\r\n                title={<span style={{color:'#1890FF'}}>{this.props.activeRole.roleName}角色权限配置</span>}\r\n            >\r\n                <div>\r\n                    <CheckboxGroup \r\n                        value={this.state.roleMenuData}\r\n                        onChange={this.changeCheckMenu}\r\n                    >\r\n                        {\r\n                            this.state.menuLists.map(item=>(\r\n                                <div key={item.id}>\r\n                                    <div style={{height:'52px',lineHeight:'52px'}}>\r\n                                        <Checkbox value={item.id}>{item.name}</Checkbox>\r\n                                    </div>\r\n                                    {\r\n                                        item.subMenus.length > 0 && (\r\n                                            <div style={subMenuStyle}>\r\n                                                {\r\n                                                    item.subMenus.map(childItem => (\r\n                                                        <Checkbox value={childItem.id} key={childItem.id}>{childItem.name}</Checkbox>\r\n                                                    ))\r\n                                                }\r\n                                            </div>\r\n                                        )\r\n                                    }\r\n                                </div>\r\n                            ))\r\n                        }\r\n                    </CheckboxGroup>\r\n                </div>\r\n                <div style={{textAlign:'right'}}>\r\n                    <Button type=\"primary\" onClick={this.saveAction}>保存</Button>\r\n                </div>\r\n            </Card>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default MenuLists;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Authority/MenuLists.js"],"sourceRoot":""}