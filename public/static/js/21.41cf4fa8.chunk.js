webpackJsonp([21],{1262:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var s=n(0),o=n.n(s),c=n(382),l=n(1263),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=c.C.TreeNode,d={fontSize:"20px",color:"#aaa",marginLeft:"10px"},f=Object.assign({},d,{color:"rgb(24, 144, 255)"}),m=function(e){function t(){var e,n,i,s;a(this,t);for(var o=arguments.length,l=Array(o),u=0;u<o;u++)l[u]=arguments[u];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(l))),i.state={menuLists:[],selectedKeys:[],expandedKeys:[],visible:!1,isEditor:!1,activeData:void 0},i.getMenuLists=function(){var e={success:!0,msg:"\u6210\u529f",obj:[{id:150,parentId:-1,name:"\u7efc\u5408\u753b\u50cf",url:"",iconUrl:"n_ico2.png",iconSelectedUrl:"n_ico2.png",seq:11,tags:[],subMenus:[{id:151,parentId:150,name:"\u7fa4\u4f53\u753b\u50cf",url:"/mainframe/GroupPortrait",iconUrl:"",iconSelectedUrl:"",seq:12,tags:[],subMenus:[]},{id:152,parentId:150,name:"\u4e2a\u4eba\u753b\u50cf",url:"/mainframe/personalportrait",iconUrl:"",iconSelectedUrl:"",seq:13,tags:[],subMenus:[]}]},{id:2,parentId:-1,name:"\u8f68\u8ff9\u5206\u6790",url:"",iconUrl:"n_ico3.png",iconSelectedUrl:"n_ico3.png",seq:14,tags:[],subMenus:[{id:4,parentId:2,name:"\u4e2a\u4eba\u8f68\u8ff9",url:"/mainframe/personalpath",iconUrl:"",iconSelectedUrl:"",seq:58,tags:[],subMenus:[]},{id:153,parentId:2,name:"\u7fa4\u4f53\u8f68\u8ff9",url:"/mainframe/grouppath",iconUrl:"",iconSelectedUrl:"",seq:59,tags:[],subMenus:[]}]},{id:178,parentId:-1,name:"\u7efc\u5408\u9884\u8b66",url:"/mainframe/comprehensivewarning",iconUrl:"",iconSelectedUrl:"",seq:256,tags:[],subMenus:[]},{id:179,parentId:-1,name:"\u7cfb\u7edf\u8bbe\u7f6e",url:"/mainframe/systemsetup",iconUrl:"",iconSelectedUrl:"",seq:257,tags:[],subMenus:[{id:180,parentId:179,name:"\u9884\u8b66\u8bbe\u7f6e",url:"/mainframe/systemsetup/earlywarningsetting",iconUrl:"",iconSelectedUrl:"",seq:387,tags:[],subMenus:[]},{id:181,parentId:179,name:"\u884c\u4e3a\u8f68\u8ff9\u8bbe\u7f6e",url:"/mainframe/systemsetup/behaviortrajectory",iconUrl:"",iconSelectedUrl:"",seq:388,tags:[],subMenus:[]}]},{id:10,parentId:-1,name:"\u6743\u9650\u7ba1\u7406",url:"",iconUrl:"xitongguanli.png",iconSelectedUrl:"xitongguanli2.png",seq:259,tags:[],subMenus:[{id:25,parentId:10,name:"\u8d26\u6237\u7ba1\u7406",url:"/mainframe/accessmanage/account",iconUrl:"",iconSelectedUrl:"",seq:264,tags:[],subMenus:[]},{id:24,parentId:10,name:"\u83dc\u5355\u7ba1\u7406",url:"/mainframe/accessmanage/menu",iconUrl:"",iconSelectedUrl:"",seq:265,tags:[],subMenus:[]},{id:26,parentId:10,name:"\u6743\u9650\u914d\u7f6e",url:"/mainframe/accessmanage/authority",iconUrl:"",iconSelectedUrl:"",seq:266,tags:[],subMenus:[]}]}],errorCode:null};e.success&&i.setState({menuLists:e.obj||[]})},i.onSelect=function(e,t){e.length>0?i.setState({selectedKeys:e,activeData:t.node.props.detail}):i.setState({selectedKeys:e,activeData:void 0})},i.onDragEnter=function(e){i.setState({expandedKeys:e.expandedKeys})},i.onDrop=function(e){},i.deleteAction=function(){i.state.activeData&&c.p.confirm({title:"\u786e\u5b9a\u5220\u9664"+i.state.activeData.name+"\u83dc\u5355\u5417?",onOk:function(){var e={success:!0};e.success?(c.E.success("\u5220\u9664\u6210\u529f\uff01"),i.getMenuLists()):c.E.error(e.obj)},onCancel:function(){},okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"})},i.saveAction=function(e){var t=i.state.isEditor,n=e.name,a=e.seq,r=e.url,s={name:n,seq:a,url:r,sourceCode:"pc",iconUrl:"test",iconSelectedUrl:"test"};t?s.id=i.state.activeData.id:i.state.activeData&&i.state.activeData.parentId<=0&&(s.parentId=i.state.activeData.id);var o={success:!0};o.success?(c.E.success("\u4fdd\u5b58\u6210\u529f\uff01"),i.setState({visible:!1,isEditor:!1},function(){i.getMenuLists()})):c.E.error(o.obj)},s=n,r(i,s)}return i(t,e),u(t,[{key:"componentWillMount",value:function(){this.getMenuLists()}},{key:"render",value:function(){var e=this;return o.a.createElement("div",{style:{padding:"20px"}},o.a.createElement(c.e,{title:o.a.createElement("span",{style:{color:"#1890FF",lineHeight:"34px"}},"\u83dc\u5355"),extra:o.a.createElement("div",null,o.a.createElement(c.d,{icon:"plus",type:"primary",disabled:this.state.activeData&&this.state.activeData.parentId>0,style:{marginRight:20},onClick:function(){e.setState({visible:!0,isEditor:!1})}},"\u6dfb\u52a0\u83dc\u5355"),o.a.createElement(c.j,{type:"form",style:this.state.activeData?f:d,onClick:function(){e.state.activeData&&e.setState({visible:!0,isEditor:!0})}}),o.a.createElement(c.j,{type:"delete",style:this.state.activeData?f:d,onClick:this.deleteAction}))},o.a.createElement(c.C,{onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,defaultExpandedKeys:this.state.expandedKeys,draggable:!0,onDragEnter:this.onDragEnter,onDrop:this.onDrop},function e(t){return t.map(function(t){return t.subMenus&&t.subMenus.length?o.a.createElement(p,{key:t.id,title:t.name,detail:t},e(t.subMenus)):o.a.createElement(p,{key:t.id,title:t.name,detail:t})})}(this.state.menuLists))),this.state.visible?o.a.createElement(l.a,{title:this.state.isEditor?"\u7f16\u8f91\u83dc\u5355":"\u65b0\u5efa\u83dc\u5355",visible:this.state.visible,isEditor:this.state.isEditor,onOk:this.saveAction,activeData:this.state.activeData,onCancel:function(){return e.setState({visible:!1,isEditor:!1})}}):null)}}]),t}(o.a.Component);t.default=m},1263:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function i(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(0),o=n.n(s),c=n(382),l=n(1062),u=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=c.i.Item,d={labelCol:{span:4},wrapperCol:{span:19,style:{paddingLeft:"10px"}}},f=function(e){function t(){var e,n,i,s;a(this,t);for(var o=arguments.length,c=Array(o),l=0;l<o;l++)c[l]=arguments[l];return n=i=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),i.sureAction=function(){i.props.form.validateFields(function(e,t){e||i.props.onOk(t)})},s=n,r(i,s)}return i(t,e),u(t,[{key:"render",value:function(){var e=this.props.form.getFieldDecorator,t=this.props.isEditor?this.props.activeData:void 0,n=!t||0===t.subMenus.length;return o.a.createElement(l.a,{title:this.props.title,visible:!0,onOk:this.sureAction,onCancel:this.props.onCancel,okText:"\u786e\u5b9a",cancelText:"\u53d6\u6d88"},o.a.createElement(p,Object.assign({},d,{label:"\u540d\u79f0"}),e("name",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"}],initialValue:t&&t.name})(o.a.createElement(c.k,{placeholder:"\u8bf7\u8f93\u5165\u83dc\u5355\u540d\u79f0"}))),n?o.a.createElement(p,Object.assign({},d,{label:"URL"}),e("url",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u8def\u7531\u5730\u5740"}],initialValue:t&&t.url})(o.a.createElement(c.k,{placeholder:"\u8bf7\u8f93\u5165\u8def\u7531\u5730\u5740"}))):null,o.a.createElement(p,Object.assign({},d,{label:"\u6392\u5e8f"}),e("seq",{rules:[{required:!0,message:"\u8bf7\u8f93\u5165\u6392\u5e8f"}],initialValue:t&&t.seq})(o.a.createElement(c.k.TextArea,{style:{resize:"none",height:60},placeholder:"\u8bf7\u8f93\u5165\u6392\u5e8f"}))))}}]),t}(s.Component),m=c.i.create()(f);t.a=m}});
//# sourceMappingURL=21.41cf4fa8.chunk.js.map