{"version":3,"sources":["../static/js/16.e7211b56.chunk.js","common/template/AccessManage/Account/AddOrEditAccountModel.js","common/template/AccessManage/Account/index.js","common/template/AccessManage/Account/Filter.js","common/template/AccessManage/Account/AccountTable.js"],"names":["webpackJsonp","1095","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__components_MainModal__","_createClass","defineProperties","target","props","i","length","descriptor","defineProperty","key","protoProps","staticProps","FormItem","Form","Item","Option","Select","formItemLayout","labelCol","span","wrapperCol","style","paddingLeft","AddOrEditAccount","_Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","state","roleList","sureAction","form","validateFields","err","values","userName","name","sex","accountCode","roleId","data","sourceCode","rowInfo","id","res","success","message","hideModal","onOk","error","obj","roleName","setState","getFieldDecorator","editData","forEach","item","index","roles","a","createElement","okText","title","visible","onCancel","cancelText","assign","label","rules","required","initialValue","username","placeholder","width","marginBottom","onChange","roleIdChange","map","Component","AddOrEditAccountModel","1259","__WEBPACK_IMPORTED_MODULE_2__Filter__","__WEBPACK_IMPORTED_MODULE_3__AccountTable__","Account","_React$Component","changeFilter","bind","margin","React","1260","__WEBPACK_IMPORTED_MODULE_2__AddOrEditAccountModel__","Filter","account","code","role","addModalShow","accountChange","nameChange","codeChange","roleChange","handleSearch","showAddModal","hideAddModal","e","msg","remark","createTime","updateTime","newRoleList","push","unshift","Fragment","display","marginLeft","marginRight","type","onClick","icon","1261","AccountTable","columns","dataIndex","render","text","record","color","showEdit","cursor","initcode","deleteUser","pagination","current","pageSize","total","editShow","handleTableChange","getData","hideEdit","reloadTable","page","_this2","totalPage","rows","password","authorities","accountNonExpired","accountNonLocked","credentialsNonExpired","enabled","userId","menus","errorCode","newData","sortIndex","nextProps","_this3","nextState","dataSource","bordered","marginTop"],"mappings":"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","file":"static/js/16.e7211b56.chunk.js","sourcesContent":["webpackJsonp([16],{\n\n/***/ 1095:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_MainModal__ = __webpack_require__(1062);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 新增或编辑账户管理\r\n */var FormItem=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].Item;var Option=__WEBPACK_IMPORTED_MODULE_1_antd__[\"v\" /* Select */].Option;//表单布局\nvar formItemLayout={labelCol:{span:6},wrapperCol:{span:17,style:{paddingLeft:'10px'}}};var AddOrEditAccount=function(_Component){_inherits(AddOrEditAccount,_Component);function AddOrEditAccount(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AddOrEditAccount);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddOrEditAccount.__proto__||Object.getPrototypeOf(AddOrEditAccount)).call.apply(_ref,[this].concat(args))),_this),_this.state={roleList:[]},_this.sureAction=function(){//表单验证\n_this.props.form.validateFields(function(err,values){if(!err){var userName=values.userName,name=values.name,sex=values.sex,accountCode=values.accountCode,roleId=values.roleId;// let reqUrl = \"/bigdata/system/user/save\";\nvar data={sourceCode:\"pc\",// 调用端：(默认PC)\nuserName:userName,// 账户名 string\nname:name,// 姓名 string\nsex:sex-0,// 性别 num init ， state中存储的是string类型， 这里简单转换一下\naccountCode:accountCode,// 学号/教工号 string\nroleId:roleId-0// 用户角色 num init ， state中存储的是string类型， 这里简单转换一下\n};if(_this.props.rowInfo){// reqUrl = \"/bigdata/system/user/update\";\ndata.id=_this.props.rowInfo.id;}//保存处理\nvar res={success:true};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success(\"保存成功！！！\");_this.props.hideModal();_this.props.onOk();}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}}});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AddOrEditAccount,[{key:'componentWillMount',value:function componentWillMount(){// 获取用户角色列表信息\nvar roleList=[{\"roleId\":1,\"roleName\":\"管理员4\"},{\"roleId\":10,\"roleName\":\"学生\"},{\"roleId\":20,\"roleName\":\"教师123\"},{\"roleId\":29,\"roleName\":\"超级管理员\"}];this.setState({roleList:roleList});}},{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var editData=this.props.rowInfo;var roleId=void 0;if(editData){this.state.roleList.forEach(function(item,index){if(item.roleName===editData.roles){roleId=item.roleId;}});}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__components_MainModal__[\"a\" /* default */],{okText:'\\u786E\\u5B9A',title:this.props.title,visible:true,onOk:this.sureAction,onCancel:this.props.hideModal,cancelText:'\\u53D6\\u6D88'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u8D26\\u6237\\u540D\\u79F0'}),getFieldDecorator('userName',{rules:[{required:true,message:'请输入账户名称'}],initialValue:editData&&editData.username})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u8D26\\u6237\\u540D\\u79F0'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u59D3\\u540D'}),getFieldDecorator('name',{rules:[{required:true,message:'请输入姓名'}],initialValue:editData&&editData.name})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u59D3\\u540D'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u6027\\u522B'}),getFieldDecorator('sex',{rules:[{required:true,message:'请输入性别'}],initialValue:editData&&editData.sex})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"v\" /* Select */],{placeholder:'\\u8BF7\\u9009\\u62E9\\u6027\\u522B',style:{width:\"100%\"}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:1},'\\u7537'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:2},'\\u5973')))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u5B66\\u53F7/\\u6559\\u5DE5\\u53F7'}),getFieldDecorator('accountCode',{rules:[{required:true,message:'请输入学号/教工号'}],initialValue:editData&&editData.accountCode})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u5B66\\u53F7/\\u6559\\u5DE5\\u53F7'}))),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u7528\\u6237\\u89D2\\u8272'}),getFieldDecorator('roleId',{rules:[{required:true,message:'请输入用户角色'}],initialValue:roleId})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"v\" /* Select */],{placeholder:'\\u8BF7\\u9009\\u62E9\\u7528\\u6237\\u89D2\\u8272',style:{width:\"100%\",marginBottom:8},onChange:this.roleIdChange},this.state.roleList.length>0?this.state.roleList.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:item.roleId,key:item.roleId},item.roleName);}):null))));}}]);return AddOrEditAccount;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var AddOrEditAccountModel=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].create()(AddOrEditAccount);/* harmony default export */ __webpack_exports__[\"a\"] = (AddOrEditAccountModel);\n\n/***/ }),\n\n/***/ 1259:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__Filter__ = __webpack_require__(1260);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_3__AccountTable__ = __webpack_require__(1261);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}// 顶部过滤器\n// 本页table组件\nvar Account=function(_React$Component){_inherits(Account,_React$Component);function Account(props){_classCallCheck(this,Account);var _this=_possibleConstructorReturn(this,(Account.__proto__||Object.getPrototypeOf(Account)).call(this,props));_this.state={// 参数命名根据后端键值对名称而来\nsourceCode:\"pc\",// 端\nusername:\"\",// 账户\nname:\"\",// 名称\naccountCode:\"\",// 学号/教工号\nroleId:\"\"// 账户角色\n};_this.changeFilter=_this.changeFilter.bind(_this);// 从子组件（过滤器Filter）中更新获取后端请求的最新参数， 并传给table组件\nreturn _this;}// 从子组件（过滤器Filter）中更新获取后端请求的最新参数， 并传给table组件\n_createClass(Account,[{key:'changeFilter',value:function changeFilter(obj){this.setState({username:obj.username,// 账户\nname:obj.name,// 名称\naccountCode:obj.accountCode,// 学号/教工号\nroleId:obj.roleId// 账户角色\n});}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Card */],{style:{margin:\"15px 20px\"},title:'\\u8D26\\u6237\\u7BA1\\u7406'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__Filter__[\"a\" /* default */],{changeFilter:this.changeFilter}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_3__AccountTable__[\"a\" /* default */],{sourceCode:this.state.sourceCode,username:this.state.username,name:this.state.name,accountCode:this.state.accountCode,roleId:this.state.roleId}));}}]);return Account;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"default\"] = (Account);\n\n/***/ }),\n\n/***/ 1260:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AddOrEditAccountModel__ = __webpack_require__(1095);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var Option=__WEBPACK_IMPORTED_MODULE_1_antd__[\"v\" /* Select */].Option;var Filter=function(_React$Component){_inherits(Filter,_React$Component);function Filter(props){_classCallCheck(this,Filter);var _this=_possibleConstructorReturn(this,(Filter.__proto__||Object.getPrototypeOf(Filter)).call(this,props));_this.state={account:\"\",// 账户\nname:\"\",// 名称\ncode:\"\",// 学号/教工号\nrole:\"\",// 账户角色\nroleList:[],// 账户角色下拉\n// 显示隐藏创建新用户弹出框\naddModalShow:false};_this.accountChange=_this.accountChange.bind(_this);// 账户名称\n_this.nameChange=_this.nameChange.bind(_this);// 姓名\n_this.codeChange=_this.codeChange.bind(_this);// 学号/教工号\n_this.roleChange=_this.roleChange.bind(_this);// 选择角色\n_this.handleSearch=_this.handleSearch.bind(_this);// 搜索\n_this.showAddModal=_this.showAddModal.bind(_this);// 显示创建新用户弹出框\n_this.hideAddModal=_this.hideAddModal.bind(_this);// 显示创建新用户弹出框\nreturn _this;}// 账户名称\n_createClass(Filter,[{key:'accountChange',value:function accountChange(e){this.setState({account:e.target.value});}// 姓名\n},{key:'nameChange',value:function nameChange(e){this.setState({name:e.target.value});}// 学号/教工号\n},{key:'codeChange',value:function codeChange(e){this.setState({code:e.target.value});}// 选择角色\n},{key:'roleChange',value:function roleChange(value){this.setState({role:value});}// 搜索\n},{key:'handleSearch',value:function handleSearch(){var obj={// 键名按照后端数据键名给\nusername:this.state.account,// 账户\nname:this.state.name,// 名称\naccountCode:this.state.code,// 学号/教工号\nroleId:this.state.role// 账户角色\n};this.props.changeFilter(obj);}// 显示创建用户弹出框\n},{key:'showAddModal',value:function showAddModal(){this.setState({addModalShow:true});}// 隐藏创建用户弹出框\n},{key:'hideAddModal',value:function hideAddModal(){this.setState({addModalShow:false});}},{key:'componentDidMount',value:function componentDidMount(){// 获取账户角色下拉选项数据,需要请求数据\nvar res={\"success\":true,\"msg\":\"成功\",\"obj\":[{\"id\":1,\"roleName\":\"管理员4\",\"remark\":\"管理员\",\"createTime\":1516431152000,\"updateTime\":1536045400000},{\"id\":10,\"roleName\":\"学生\",\"remark\":\"\",\"createTime\":1519810586000,\"updateTime\":1519811232000},{\"id\":20,\"roleName\":\"教师123\",\"remark\":\"教师1\",\"createTime\":1524736133000,\"updateTime\":1524736319000},{\"id\":29,\"roleName\":\"超级管理员\",\"remark\":\"拥有权限管理模块的设置权限不包含菜单\",\"createTime\":1536549032000,\"updateTime\":1536550539000}]};if(res.success){var newRoleList=[];res.obj.forEach(function(item){newRoleList.push({label:item.roleName,value:item.id});});newRoleList.unshift({// 加入全部选项\nlabel:\"全部\",value:\"\"});this.setState({roleList:newRoleList});}}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'\\u8D26\\u6237'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{value:this.state.account,onChange:this.accountChange,placeholder:'\\u8BF7\\u8F93\\u5165\\u8D26\\u6237\\u540D\\u79F0',style:{width:130,display:\"inline-block\",marginLeft:10,marginRight:10}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'\\u59D3\\u540D'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{value:this.state.name,onChange:this.nameChange,placeholder:'\\u8BF7\\u8F93\\u5165\\u59D3\\u540D',style:{width:130,display:\"inline-block\",marginLeft:10,marginRight:10}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'\\u5B66\\u53F7/\\u6559\\u5DE5\\u53F7'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{value:this.state.code,onChange:this.codeChange,placeholder:'\\u8BF7\\u8F93\\u5165\\u5B66\\u53F7/\\u6559\\u5DE5\\u53F7',style:{width:150,display:\"inline-block\",marginLeft:10,marginRight:10}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{marginRight:10}},'\\u8D26\\u6237\\u89D2\\u8272'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"v\" /* Select */],{placeholder:'\\u8BF7\\u9009\\u62E9\\u8D26\\u6237\\u89D2\\u8272',style:{width:150},onChange:this.roleChange},this.state.roleList.length>0?this.state.roleList.map(function(item){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(Option,{value:item.value,key:item.value},item.label);}):null),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{type:'primary',onClick:this.handleSearch,style:{margin:\"0px 10px\"}},'\\u641C\\u7D22'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{type:'primary',icon:'plus',onClick:this.showAddModal},'\\u521B\\u5EFA\\u65B0\\u7528\\u6237'),this.state.addModalShow?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__AddOrEditAccountModel__[\"a\" /* default */],{title:'新增用户',onOk:this.handleSearch,hideModal:this.hideAddModal}):null);}}]);return Filter;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"a\"] = (Filter);\n\n/***/ }),\n\n/***/ 1261:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AddOrEditAccountModel__ = __webpack_require__(1095);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var AccountTable=function(_React$Component){_inherits(AccountTable,_React$Component);function AccountTable(props){_classCallCheck(this,AccountTable);var _this=_possibleConstructorReturn(this,(AccountTable.__proto__||Object.getPrototypeOf(AccountTable)).call(this,props));_this.state={// table表头设置\ncolumns:[{title:'序号',dataIndex:'sortIndex',width:\"6%\"},{title:'账户名',dataIndex:'username',width:\"10%\",render:function render(text){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{title:text},text);}},{title:'姓名',dataIndex:'name'},{title:'性别',dataIndex:'sex',render:function render(text){if(text===1){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'\\u7537');}else if(text===2){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'\\u5973');}else{return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',null,'-');}}},{title:'学工/教工号',dataIndex:'accountCode'},{title:'角色',dataIndex:'roles'},{title:'操作',dataIndex:'menus',width:\"25%\",render:function render(text,record){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{color:\"#1890ff\"}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{onClick:function onClick(){_this.showEdit(record);},style:{marginRight:10,cursor:\"pointer\"}},'\\u7F16\\u8F91'),'|',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{onClick:function onClick(){_this.initcode(record);},style:{marginRight:10,marginLeft:10,cursor:\"pointer\"}},'\\u521D\\u59CB\\u5316\\u5BC6\\u7801'),'|',__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{onClick:function onClick(){_this.deleteUser(record);},style:{marginLeft:10,cursor:\"pointer\"}},'\\u5220\\u9664'));}}],// tabel数据源\ndata:[// table数据结构形式\n//              {\n//                 key: '1',\n//                 sortIndex: \"1\",\n//                 username: \"admin\",\n//                 name: '胡彦斌',\n//                 sex: \"1\",\n//                 accountCode: \"111111\",\n//                 roles: \"普通管理员\",\n//                 menus: null\n//              }\n],// 分页设置\npagination:{current:1,pageSize:10,total:null},// 显示隐藏编辑弹出框\neditShow:false,// 传递给子组件（编辑弹出框）的数据（编辑行的所有数据）\nrowInfo:\"\"};_this.handleTableChange=_this.handleTableChange.bind(_this);// 分页操作\n_this.getData=_this.getData.bind(_this);// 请求table数据\n_this.initcode=_this.initcode.bind(_this);// 初始化密码\n_this.deleteUser=_this.deleteUser.bind(_this);// 删除用户\n_this.showEdit=_this.showEdit.bind(_this);// 显示编辑弹出框\n_this.hideEdit=_this.hideEdit.bind(_this);// 隐藏编辑弹出框\n_this.reloadTable=_this.reloadTable.bind(_this);// 重新加载表单， 主要用于子组件中操作完成之后重新载入当前页面的table\nreturn _this;}// 分页操作\n_createClass(AccountTable,[{key:'handleTableChange',value:function handleTableChange(page){var _this2=this;var current=page.current,pageSize=page.pageSize,total=page.total;this.setState(function(){return{pagination:{current:current,pageSize:pageSize,total:total}};},function(){_this2.getData();});}// 重新加载表单， 主要用于子组件中操作完成之后重新载入当前页面的table\n},{key:'reloadTable',value:function reloadTable(){var page={current:this.state.pagination.current,pageSize:this.state.pagination.pageSize,total:this.state.pagination.total};this.handleTableChange(page);}},{key:'getData',value:function getData(){// 父级组件传递进来的参数\n// const {sourceCode, username, name, accountCode, roleId} = this.props;\nvar res={\"success\":true,\"msg\":\"成功\",\"obj\":{\"page\":1,\"pageSize\":10,\"totalPage\":3,\"total\":23,\"rows\":[{\"password\":\"0c8a80688b671e290381acb56b1bd4e9\",\"username\":\"admin\",\"authorities\":[],\"accountNonExpired\":true,\"accountNonLocked\":true,\"credentialsNonExpired\":true,\"enabled\":true,\"id\":1,\"userId\":null,\"accountCode\":\"11111111\",\"name\":\"Administrator\",\"sex\":1,\"roles\":\"超级管理员\",\"menus\":null},{\"password\":\"0c8a80688b671e290381acb56b1bd4e9\",\"username\":\"liujie\",\"authorities\":[],\"accountNonExpired\":true,\"accountNonLocked\":true,\"credentialsNonExpired\":true,\"enabled\":true,\"id\":30,\"userId\":null,\"accountCode\":\"111\",\"name\":\"刘杰\",\"sex\":2,\"roles\":\"管理员4\",\"menus\":null}]},\"errorCode\":null};if(res.success&&res.obj&&res.obj.rows.length>0){// 后端返回的数据加上key值， antd组件所需，\nvar newData=res.obj.rows;newData.forEach(function(item,index){item.key=item.id;// 后端数据并不返回排序， 这里循环加上序号\nitem.sortIndex=index-0+1;});// 更新本地数据源， 以及分页设置\nthis.setState({data:newData,pagination:{current:res.obj.page,pageSize:res.obj.pageSize,total:res.obj.total}});}else{// 如果请求失败， 数据源重置\nthis.setState({data:[],pagination:{current:1,pageSize:10,total:null}});}}// 点击编辑，显示编辑弹出框\n},{key:'showEdit',value:function showEdit(record){this.setState({editShow:true,rowInfo:record});}// 隐藏/ 卸载编辑弹出框\n},{key:'hideEdit',value:function hideEdit(){this.setState({editShow:false});}// 初始化密码\n},{key:'initcode',value:function initcode(record){//初始化操作\n__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success(\"初始化密码成功， 初始密码： !23qaz\");}// 删除用户\n},{key:'deleteUser',value:function deleteUser(record){}//删除操作\n// props参数发生时， table重置， 重新加载\n},{key:'componentWillReceiveProps',value:function componentWillReceiveProps(nextProps){var _this3=this;if(nextProps!==this.props){this.setState(function(){return{data:[],pagination:{current:1,pageSize:10,total:null}};},function(){_this3.getData();});}}// 性能优化， props改变不继续render， 只有当state发生变化才继续render\n},{key:'shouldComponentUpdate',value:function shouldComponentUpdate(nextProps,nextState){if(nextState!==this.state){return true;}else{return false;}}},{key:'componentDidMount',value:function componentDidMount(){this.getData();// 请求table数据\n}},{key:'render',value:function render(){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Fragment,null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"y\" /* Table */],{columns:this.state.columns,dataSource:this.state.data,pagination:this.state.pagination,onChange:this.handleTableChange,bordered:true,style:{marginTop:20}}),this.state.editShow?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__AddOrEditAccountModel__[\"a\" /* default */],{title:'编辑用户',rowInfo:this.state.rowInfo,hideModal:this.hideEdit,onOk:this.reloadTable}):null);}}]);return AccountTable;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"a\"] = (AccountTable);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/16.e7211b56.chunk.js","/**\r\n * Created by hutao on 2018/8/31.\r\n * 新增或编辑账户管理\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Input, Select, message } from 'antd';\r\nimport MainModal from '../../../components/MainModal';\r\n\r\nconst FormItem = Form.Item;\r\nconst Option = Select.Option;\r\n\r\n//表单布局\r\nconst formItemLayout = {\r\n    labelCol: { span: 6 },\r\n    wrapperCol: { span: 17, style: { paddingLeft: '10px' } },\r\n};\r\n\r\nclass AddOrEditAccount extends Component {\r\n    state = {\r\n        roleList: [],\r\n    }\r\n    componentWillMount() {\r\n        // 获取用户角色列表信息\r\n        const roleList = [\r\n            {\r\n                \"roleId\": 1,\r\n                \"roleName\": \"管理员4\",\r\n            },\r\n            {\r\n                \"roleId\": 10,\r\n                \"roleName\": \"学生\",\r\n            },\r\n            {\r\n                \"roleId\": 20,\r\n                \"roleName\": \"教师123\",\r\n            },\r\n            {\r\n                \"roleId\": 29,\r\n                \"roleName\": \"超级管理员\",\r\n            }\r\n        ];\r\n        this.setState({\r\n            roleList\r\n        })\r\n    }\r\n    sureAction = () => {\r\n        //表单验证\r\n        this.props.form.validateFields(\r\n            (err, values) => {\r\n                if (!err) {\r\n                    let { userName, name, sex, accountCode, roleId } = values;\r\n                    \r\n                    // let reqUrl = \"/bigdata/system/user/save\";\r\n                    let data = {\r\n                        sourceCode: \"pc\", // 调用端：(默认PC)\r\n                        userName, // 账户名 string\r\n                        name, // 姓名 string\r\n                        sex: sex - 0, // 性别 num init ， state中存储的是string类型， 这里简单转换一下\r\n                        accountCode, // 学号/教工号 string\r\n                        roleId: roleId - 0, // 用户角色 num init ， state中存储的是string类型， 这里简单转换一下\r\n                    }\r\n                    if (this.props.rowInfo) {\r\n                        // reqUrl = \"/bigdata/system/user/update\";\r\n                        data.id = this.props.rowInfo.id;\r\n                    }\r\n\r\n                    //保存处理\r\n                    let res = {\r\n                        success: true\r\n                    }\r\n                    if (res.success) {\r\n                        message.success(\"保存成功！！！\");\r\n                        this.props.hideModal();\r\n                        this.props.onOk();\r\n                    } else {\r\n                        message.error(res.obj);\r\n                    }\r\n                }\r\n            },\r\n        );\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let editData = this.props.rowInfo;\r\n        let roleId;\r\n        if (editData) {\r\n            this.state.roleList.forEach((item, index) => {\r\n                if (item.roleName === editData.roles) {\r\n                    roleId = item.roleId\r\n                }\r\n            });\r\n        }\r\n        return (\r\n            <MainModal\r\n                okText=\"确定\"\r\n                title={this.props.title}\r\n                visible={true}\r\n                onOk={this.sureAction}\r\n                onCancel={this.props.hideModal}\r\n                cancelText=\"取消\"\r\n            >\r\n                <FormItem {...formItemLayout} label=\"账户名称\">\r\n                    {getFieldDecorator('userName', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入账户名称'\r\n                        }],\r\n                        initialValue: editData && editData.username\r\n                    })(\r\n                        <Input placeholder=\"请输入账户名称\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"姓名\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入姓名'\r\n                        }],\r\n                        initialValue: editData && editData.name\r\n                    })(\r\n                        <Input placeholder=\"请输入姓名\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"性别\">\r\n                    {getFieldDecorator('sex', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入性别'\r\n                        }],\r\n                        initialValue: editData && editData.sex\r\n                    })(\r\n                        <Select placeholder=\"请选择性别\" style={{ width: \"100%\" }}>\r\n                            <Option value={1}>男</Option>\r\n                            <Option value={2}>女</Option>\r\n                        </Select>\r\n                    )}\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"学号/教工号\">\r\n                    {getFieldDecorator('accountCode', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入学号/教工号'\r\n                        }],\r\n                        initialValue: editData && editData.accountCode\r\n                    })(\r\n                        <Input placeholder=\"请输入学号/教工号\" />\r\n                    )}\r\n                </FormItem>\r\n                <FormItem {...formItemLayout} label=\"用户角色\">\r\n                    {getFieldDecorator('roleId', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入用户角色'\r\n                        }],\r\n                        initialValue: roleId\r\n                    })(\r\n                        <Select placeholder=\"请选择用户角色\" style={{ width: \"100%\", marginBottom: 8 }} onChange={this.roleIdChange}>\r\n                            {this.state.roleList.length > 0 ? this.state.roleList.map((item) => {\r\n                                return (\r\n                                    <Option value={item.roleId} key={item.roleId}>{item.roleName}</Option>\r\n                                )\r\n                            }\r\n                            ) : null\r\n                            }\r\n                        </Select>\r\n                    )}\r\n                </FormItem>\r\n            </MainModal>\r\n        )\r\n    }\r\n}\r\n\r\nconst AddOrEditAccountModel = Form.create()(AddOrEditAccount);\r\nexport default AddOrEditAccountModel;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Account/AddOrEditAccountModel.js","import React from 'react';\r\nimport { Card } from 'antd';\r\nimport Filter from './Filter'; // 顶部过滤器\r\nimport AccountTable from './AccountTable'; // 本页table组件\r\n\r\nclass Account extends React.Component {\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state={ // 参数命名根据后端键值对名称而来\r\n\t\t\tsourceCode: \"pc\", // 端\r\n\t\t\tusername: \"\", // 账户\r\n\t\t\tname: \"\", // 名称\r\n\t\t\taccountCode: \"\", // 学号/教工号\r\n\t\t\troleId:\"\" // 账户角色\r\n\t\t};\r\n\t\tthis.changeFilter = this.changeFilter.bind(this); // 从子组件（过滤器Filter）中更新获取后端请求的最新参数， 并传给table组件\r\n\t}\r\n\t\r\n\t// 从子组件（过滤器Filter）中更新获取后端请求的最新参数， 并传给table组件\r\n\tchangeFilter(obj){\r\n\t\tthis.setState({\r\n\t\t\tusername: obj.username, // 账户\r\n\t\t\tname: obj.name, // 名称\r\n\t\t\taccountCode: obj.accountCode, // 学号/教工号\r\n\t\t\troleId:obj.roleId // 账户角色\r\n\t\t})\r\n\t}\r\n\t\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<Card style={{margin: \"15px 20px\"}} title='账户管理'>\r\n\t\t\t\t<Filter changeFilter={this.changeFilter} />\r\n\t\t\t\t<AccountTable\r\n\t\t\t\t\tsourceCode={this.state.sourceCode}\r\n\t\t\t\t\tusername={this.state.username}\r\n\t\t\t\t\tname={this.state.name}\r\n\t\t\t\t\taccountCode={this.state.accountCode}\r\n\t\t\t\t\troleId={this.state.roleId}\r\n\t\t\t\t/>\r\n\t\t\t</Card>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Account;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Account/index.js","import React from 'react';\r\nimport { Input, Select, Button } from 'antd';\r\nimport AddOrEditAccountModel from './AddOrEditAccountModel';\r\n\r\nconst Option = Select.Option;\r\n\r\nclass Filter extends React.Component{\r\n\t\r\n\tconstructor (props) {\r\n\t\tsuper(props);\r\n\t\tthis.state={\r\n\t\t\taccount: \"\", // 账户\r\n\t\t\tname: \"\", // 名称\r\n\t\t\tcode: \"\", // 学号/教工号\r\n\t\t\trole:\"\", // 账户角色\r\n\t\t\troleList: [], // 账户角色下拉\r\n            // 显示隐藏创建新用户弹出框\r\n            addModalShow: false, \r\n\t\t};\r\n\t\tthis.accountChange = this.accountChange.bind(this); // 账户名称\r\n\t\tthis.nameChange = this.nameChange.bind(this); // 姓名\r\n\t\tthis.codeChange = this.codeChange.bind(this); // 学号/教工号\r\n\t\tthis.roleChange = this.roleChange.bind(this); // 选择角色\r\n\t\tthis.handleSearch = this.handleSearch.bind(this); // 搜索\r\n\t\tthis.showAddModal = this.showAddModal.bind(this); // 显示创建新用户弹出框\r\n\t\tthis.hideAddModal = this.hideAddModal.bind(this); // 显示创建新用户弹出框\r\n\t}\r\n\t\r\n\t // 账户名称\r\n\taccountChange (e) {\r\n\t\tthis.setState({\r\n\t\t\taccount:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\t // 姓名\r\n\tnameChange (e) {\r\n\t\tthis.setState({\r\n\t\t\tname:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\t // 学号/教工号\r\n\tcodeChange (e) {\r\n\t\tthis.setState({\r\n\t\t\tcode:e.target.value\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 选择角色\r\n\troleChange(value){\r\n\t\tthis.setState({\r\n\t\t\trole: value\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 搜索\r\n\thandleSearch(){\r\n\t\tconst obj = { // 键名按照后端数据键名给\r\n\t\t\tusername: this.state.account, // 账户\r\n\t\t\tname: this.state.name, // 名称\r\n\t\t\taccountCode: this.state.code, // 学号/教工号\r\n\t\t\troleId: this.state.role // 账户角色\r\n\t\t};\r\n\t\tthis.props.changeFilter(obj);\r\n\t}\r\n\t\r\n\t// 显示创建用户弹出框\r\n\tshowAddModal(){\r\n\t\tthis.setState({\r\n\t\t\taddModalShow: true,\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 隐藏创建用户弹出框\r\n\thideAddModal(){\r\n\t\tthis.setState({\r\n\t\t\taddModalShow: false\r\n\t\t})\r\n\t}\r\n\t\r\n\tcomponentDidMount(){\r\n\t\t// 获取账户角色下拉选项数据,需要请求数据\r\n\r\n\t\tconst res = {\r\n\t\t\t\"success\": true,\r\n\t\t\t\"msg\": \"成功\",\r\n\t\t\t\"obj\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\"roleName\": \"管理员4\",\r\n\t\t\t\t\t\"remark\": \"管理员\",\r\n\t\t\t\t\t\"createTime\": 1516431152000,\r\n\t\t\t\t\t\"updateTime\": 1536045400000\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 10,\r\n\t\t\t\t\t\"roleName\": \"学生\",\r\n\t\t\t\t\t\"remark\": \"\",\r\n\t\t\t\t\t\"createTime\": 1519810586000,\r\n\t\t\t\t\t\"updateTime\": 1519811232000\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 20,\r\n\t\t\t\t\t\"roleName\": \"教师123\",\r\n\t\t\t\t\t\"remark\": \"教师1\",\r\n\t\t\t\t\t\"createTime\": 1524736133000,\r\n\t\t\t\t\t\"updateTime\": 1524736319000\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 29,\r\n\t\t\t\t\t\"roleName\": \"超级管理员\",\r\n\t\t\t\t\t\"remark\": \"拥有权限管理模块的设置权限不包含菜单\",\r\n\t\t\t\t\t\"createTime\": 1536549032000,\r\n\t\t\t\t\t\"updateTime\": 1536550539000\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t}\r\n\r\n\t\tif (res.success) {\r\n\t\t\tlet newRoleList=[];\r\n\t\t\tres.obj.forEach(\r\n\t\t\t\t(item) => {\r\n\t\t\t\t\tnewRoleList.push({\r\n\t\t\t\t\t\tlabel: item.roleName,\r\n\t\t\t\t\t\tvalue: item.id\r\n\t\t\t\t\t})\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\tnewRoleList.unshift({ // 加入全部选项\r\n\t\t\t\tlabel: \"全部\",\r\n\t\t\t\tvalue: \"\"\r\n\t\t\t})\r\n\t\t\tthis.setState({\r\n\t\t\t\troleList: newRoleList\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t\r\n\trender () {\r\n\t\treturn (\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<span>账户</span>\r\n\t\t\t\t\r\n\t\t\t\t<Input \r\n\t\t\t\t\tvalue={this.state.account} \r\n\t\t\t\t\tonChange={this.accountChange} \r\n\t\t\t\t\tplaceholder=\"请输入账户名称\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: 130, \r\n\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\tmarginLeft: 10, \r\n\t\t\t\t\t\tmarginRight: 10\r\n\t\t\t\t\t}} \r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<span>姓名</span>\r\n\t\t\t\t<Input \r\n\t\t\t\t\tvalue={this.state.name} \r\n\t\t\t\t\tonChange={this.nameChange} \r\n\t\t\t\t\tplaceholder=\"请输入姓名\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: 130, \r\n\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\tmarginLeft: 10, \r\n\t\t\t\t\t\tmarginRight: 10\r\n\t\t\t\t\t}} \r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<span>学号/教工号</span>\r\n\t\t\t\t<Input \r\n\t\t\t\t\tvalue={this.state.code} \r\n\t\t\t\t\tonChange={this.codeChange} \r\n\t\t\t\t\tplaceholder=\"请输入学号/教工号\"\r\n\t\t\t\t\tstyle={{\r\n\t\t\t\t\t\twidth: 150, \r\n\t\t\t\t\t\tdisplay: \"inline-block\",\r\n\t\t\t\t\t\tmarginLeft: 10, \r\n\t\t\t\t\t\tmarginRight: 10\r\n\t\t\t\t\t}} \r\n\t\t\t\t/>\r\n\t\t\t\t\r\n\t\t\t\t<span style={{marginRight: 10}}>账户角色</span>\r\n\t\t\t\t<Select placeholder='请选择账户角色' style={{ width: 150 }} onChange={this.roleChange}>\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\tthis.state.roleList.length >0\r\n\t\t\t\t\t\t?\r\n\t\t\t\t\t\tthis.state.roleList.map(\r\n\t\t\t\t\t\t\t(item)=>{\r\n\t\t\t\t\t\t\t\treturn (\r\n\t\t\t\t\t\t\t\t\t<Option value={item.value} key={item.value}>{item.label}</Option>\r\n\t\t\t\t\t\t\t\t)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t)\r\n\t\t\t\t\t\t:\r\n\t\t\t\t\t\tnull\r\n\t\t\t\t\t}\r\n\t\t\t    </Select>\r\n\t\t\t\t\r\n\t\t\t\t<Button type=\"primary\" onClick={this.handleSearch} style={{margin: \"0px 10px\"}}>搜索</Button>\r\n\t\t\t\t\r\n\t\t\t\t<Button type=\"primary\" icon=\"plus\" onClick={this.showAddModal}>创建新用户</Button>\r\n\t\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.addModalShow\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<AddOrEditAccountModel \r\n\t\t\t\t\t\ttitle={'新增用户'}\r\n\t\t\t\t\t\tonOk = {this.handleSearch}\r\n\t\t\t\t\t\thideModal = {this.hideAddModal}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Filter;\r\n\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Account/Filter.js","import React from 'react';\r\nimport { Table, message } from 'antd';\r\nimport AddOrEditAccountModel from './AddOrEditAccountModel';\r\n\r\nclass AccountTable extends React.Component {\r\n\tconstructor(props) {\r\n\t\tsuper(props);\r\n\t\tthis.state = {\r\n\t\t\t// table表头设置\r\n\t\t\tcolumns: [\r\n                {\r\n                    title: '序号',\r\n                    dataIndex: 'sortIndex',\r\n                    width: \"6%\"\r\n                }, {\r\n                    title: '账户名',\r\n                    dataIndex: 'username',\r\n                    width: \"10%\",\r\n\t\t\t        render: (text) => {\r\n\t\t\t        \treturn (\r\n\t\t\t        \t\t<span title={text}>{text}</span>\r\n\t\t\t        \t)\r\n\t\t\t        }\r\n                }, {\r\n                    title: '姓名',\r\n                    dataIndex: 'name'\r\n                }, {\r\n                    title: '性别',\r\n                    dataIndex: 'sex',\r\n                    render: (text)=> {\r\n                    \tif (text === 1) {\r\n                    \t\treturn (\r\n                    \t\t\t<span>男</span>\r\n                    \t\t)\r\n                    \t} else if (text === 2) {\r\n                    \t\treturn (\r\n                    \t\t\t<span>女</span>\r\n                    \t\t)\r\n                    \t} else {\r\n                    \t\treturn (\r\n                    \t\t\t<span>-</span>\r\n                    \t\t)\r\n                    \t}\r\n                    }\r\n                }, {\r\n                    title: '学工/教工号',\r\n                    dataIndex: 'accountCode'\r\n                }, {\r\n                    title: '角色',\r\n                    dataIndex: 'roles'\r\n                }, {\r\n                    title: '操作',\r\n                    dataIndex: 'menus',\r\n                    width: \"25%\",\r\n                    render: (text, record)=> {\r\n                \t\treturn (\r\n                \t\t\t<span style={{color: \"#1890ff\"}}>\r\n\t                \t\t\t<span\r\n\t                \t\t\t\tonClick={()=>{this.showEdit(record)}}\r\n\t                \t\t\t\tstyle={{\r\n\t                \t\t\t\t\tmarginRight: 10,\r\n\t                \t\t\t\t\tcursor: \"pointer\"\r\n\t                \t\t\t\t}}>编辑\r\n\t                \t\t\t</span>|\r\n\t                \t\t\t\r\n\t                \t\t\t<span\r\n\t                \t\t\t\tonClick={()=>{this.initcode(record)}}\r\n\t                \t\t\t\tstyle={{\r\n\t                \t\t\t\t\tmarginRight: 10, \r\n\t                \t\t\t\t\tmarginLeft: 10, \r\n\t                \t\t\t\t\tcursor: \"pointer\"\r\n\t                \t\t\t\t}}>初始化密码\r\n\t                \t\t\t</span>|\r\n\t                \t\t\t\r\n\t                \t\t\t<span\r\n\t                \t\t\t\tonClick={()=>{this.deleteUser(record)}}\r\n\t                \t\t\t\tstyle={{\r\n\t                \t\t\t\t\tmarginLeft: 10, \r\n\t                \t\t\t\t\tcursor: \"pointer\"\r\n\t                \t\t\t\t}}>删除\r\n\t                \t\t\t</span>\r\n                \t\t\t</span>\r\n                \t\t)\r\n                    }\r\n                }\r\n            ],\r\n            // tabel数据源\r\n            data: [ // table数据结构形式\r\n//              {\r\n//                 key: '1',\r\n//                 sortIndex: \"1\",\r\n//                 username: \"admin\",\r\n//                 name: '胡彦斌',\r\n//                 sex: \"1\",\r\n//                 accountCode: \"111111\",\r\n//                 roles: \"普通管理员\",\r\n//                 menus: null\r\n//              }\r\n            ],\r\n            // 分页设置\r\n            pagination: {\r\n                current: 1,\r\n                pageSize: 10,\r\n                total: null\r\n            },\r\n            // 显示隐藏编辑弹出框\r\n            editShow: false,\r\n            // 传递给子组件（编辑弹出框）的数据（编辑行的所有数据）\r\n            rowInfo: \"\"\r\n\t\t};\r\n\t\tthis.handleTableChange = this.handleTableChange.bind(this); // 分页操作\r\n\t    this.getData = this.getData.bind(this); // 请求table数据\r\n\t    this.initcode = this.initcode.bind(this); // 初始化密码\r\n\t    this.deleteUser = this.deleteUser.bind(this); // 删除用户\r\n\t    this.showEdit = this.showEdit.bind(this); // 显示编辑弹出框\r\n\t    this.hideEdit = this.hideEdit.bind(this); // 隐藏编辑弹出框\r\n\t    this.reloadTable = this.reloadTable.bind(this); // 重新加载表单， 主要用于子组件中操作完成之后重新载入当前页面的table\r\n\t}\r\n\t\r\n\t// 分页操作\r\n\thandleTableChange(page) {\r\n        const {current, pageSize, total} = page;\r\n        this.setState(\r\n            ()=>{\r\n                return {\r\n                    pagination: {\r\n                        current,\r\n                        pageSize,\r\n                        total\r\n                    }\r\n                }\r\n            },\r\n            () => {\r\n                this.getData()\r\n            }\r\n        )\r\n    }\r\n\t\r\n\t// 重新加载表单， 主要用于子组件中操作完成之后重新载入当前页面的table\r\n\treloadTable() {\r\n\t\tlet page = {\r\n\t\t\tcurrent: this.state.pagination.current,\r\n\t\t\tpageSize: this.state.pagination.pageSize,\r\n\t\t\ttotal: this.state.pagination.total\r\n\t\t};\r\n\t\tthis.handleTableChange(page);\r\n\t}\r\n\t\r\n\t\r\n\tgetData(){\r\n\t\t// 父级组件传递进来的参数\r\n\t\t// const {sourceCode, username, name, accountCode, roleId} = this.props;\r\n\t\tconst res = {\r\n\t\t\t\"success\": true,\r\n\t\t\t\"msg\": \"成功\",\r\n\t\t\t\"obj\": {\r\n\t\t\t\t\"page\": 1,\r\n\t\t\t\t\"pageSize\": 10,\r\n\t\t\t\t\"totalPage\": 3,\r\n\t\t\t\t\"total\": 23,\r\n\t\t\t\t\"rows\": [\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"password\": \"0c8a80688b671e290381acb56b1bd4e9\",\r\n\t\t\t\t\t\t\"username\": \"admin\",\r\n\t\t\t\t\t\t\"authorities\": [],\r\n\t\t\t\t\t\t\"accountNonExpired\": true,\r\n\t\t\t\t\t\t\"accountNonLocked\": true,\r\n\t\t\t\t\t\t\"credentialsNonExpired\": true,\r\n\t\t\t\t\t\t\"enabled\": true,\r\n\t\t\t\t\t\t\"id\": 1,\r\n\t\t\t\t\t\t\"userId\": null,\r\n\t\t\t\t\t\t\"accountCode\": \"11111111\",\r\n\t\t\t\t\t\t\"name\": \"Administrator\",\r\n\t\t\t\t\t\t\"sex\": 1,\r\n\t\t\t\t\t\t\"roles\": \"超级管理员\",\r\n\t\t\t\t\t\t\"menus\": null\r\n\t\t\t\t\t},\r\n\t\t\t\t\t{\r\n\t\t\t\t\t\t\"password\": \"0c8a80688b671e290381acb56b1bd4e9\",\r\n\t\t\t\t\t\t\"username\": \"liujie\",\r\n\t\t\t\t\t\t\"authorities\": [],\r\n\t\t\t\t\t\t\"accountNonExpired\": true,\r\n\t\t\t\t\t\t\"accountNonLocked\": true,\r\n\t\t\t\t\t\t\"credentialsNonExpired\": true,\r\n\t\t\t\t\t\t\"enabled\": true,\r\n\t\t\t\t\t\t\"id\": 30,\r\n\t\t\t\t\t\t\"userId\": null,\r\n\t\t\t\t\t\t\"accountCode\": \"111\",\r\n\t\t\t\t\t\t\"name\": \"刘杰\",\r\n\t\t\t\t\t\t\"sex\": 2,\r\n\t\t\t\t\t\t\"roles\": \"管理员4\",\r\n\t\t\t\t\t\t\"menus\": null\r\n\t\t\t\t\t},\r\n\t\t\t\t]\r\n\t\t\t},\r\n\t\t\t\"errorCode\": null\r\n\t\t}\r\n\t\tif(res.success && res.obj && res.obj.rows.length > 0){\r\n\t\t\t// 后端返回的数据加上key值， antd组件所需，\r\n\t\t\tlet newData = res.obj.rows;\r\n\t\t\tnewData.forEach(\r\n\t\t\t\t(item, index) => {\r\n\t\t\t\t\titem.key= item.id;\r\n\t\t\t\t\t// 后端数据并不返回排序， 这里循环加上序号\r\n\t\t\t\t\titem.sortIndex = (index - 0) + 1;\r\n\t\t\t\t}\r\n\t\t\t);\r\n\t\t\t// 更新本地数据源， 以及分页设置\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata: newData,\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tcurrent: res.obj.page,\r\n\t\t\t\t\tpageSize: res.obj.pageSize,\r\n\t\t\t\t\ttotal: res.obj.total\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t} else { // 如果请求失败， 数据源重置\r\n\t\t\tthis.setState({\r\n\t\t\t\tdata:[],\r\n\t\t\t\tpagination: {\r\n\t\t\t\t\tcurrent: 1,\r\n\t\t\t\t\tpageSize: 10,\r\n\t\t\t\t\ttotal: null\r\n\t\t\t\t}\r\n\t\t\t})\r\n\t\t}\r\n        \r\n    }\r\n\t\r\n\t// 点击编辑，显示编辑弹出框\r\n\tshowEdit(record){\r\n\t\tthis.setState({\r\n\t\t\teditShow: true,\r\n\t\t\trowInfo: record\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 隐藏/ 卸载编辑弹出框\r\n\thideEdit(){\r\n\t\tthis.setState({\r\n\t\t\teditShow: false\r\n\t\t})\r\n\t}\r\n\t\r\n\t// 初始化密码\r\n\tinitcode(record) {\r\n\t\t//初始化操作\r\n\t\tmessage.success(\"初始化密码成功， 初始密码： !23qaz\")\r\n\t}\r\n\t\r\n\t// 删除用户\r\n\tdeleteUser(record){\r\n\t\t//删除操作\r\n\r\n\t}\r\n\t\r\n\t// props参数发生时， table重置， 重新加载\r\n\tcomponentWillReceiveProps(nextProps){\r\n        if(nextProps !== this.props){\r\n            this.setState(\r\n                () => {\r\n                    return {\r\n                        data:[],\r\n                        pagination: {\r\n                            current: 1,\r\n                            pageSize: 10,\r\n                            total: null\r\n                        }\r\n                    }\r\n                },\r\n                () => {\r\n                    this.getData()\r\n                }\r\n            )\r\n        }\r\n    }\r\n\t\r\n\t// 性能优化， props改变不继续render， 只有当state发生变化才继续render\r\n\tshouldComponentUpdate(nextProps, nextState) {\r\n        if (nextState !== this.state) {\r\n            return true\r\n        } else {\r\n            return false            \r\n        }\r\n    }\r\n\r\n    componentDidMount(){\r\n        this.getData() // 请求table数据\r\n    }\r\n        \r\n\trender() {\r\n\t\treturn(\r\n\t\t\t<React.Fragment>\r\n\t\t\t\t<Table\r\n\t                columns={this.state.columns}\r\n\t                dataSource={this.state.data}\r\n\t                pagination={this.state.pagination}\r\n\t                onChange={this.handleTableChange}\r\n\t                bordered={true}\r\n\t                style={{\r\n\t                \tmarginTop: 20\r\n\t                }}\r\n\t            />\r\n\t\t\t\t\r\n\t\t\t\t{\r\n\t\t\t\t\tthis.state.editShow\r\n\t\t\t\t\t?\r\n\t\t\t\t\t<AddOrEditAccountModel \r\n\t\t\t\t\t\ttitle={'编辑用户'}\r\n\t\t\t\t\t\trowInfo={this.state.rowInfo}\r\n\t\t\t\t\t\thideModal={this.hideEdit} \r\n\t\t\t\t\t\tonOk={this.reloadTable}\r\n\t\t\t\t\t/>\r\n\t\t\t\t\t:\r\n\t\t\t\t\tnull\r\n\t\t\t\t}\r\n\t\t\t\t\r\n\t\t\t\t\r\n\t\t\t</React.Fragment>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default AccountTable;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Account/AccountTable.js"],"sourceRoot":""}