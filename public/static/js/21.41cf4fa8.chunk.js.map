{"version":3,"sources":["../static/js/21.41cf4fa8.chunk.js","common/template/AccessManage/Menu/index.js","common/template/AccessManage/Menu/AddOrEditRoleModel.js"],"names":["webpackJsonp","1262","module","__webpack_exports__","__webpack_require__","_classCallCheck","instance","Constructor","TypeError","_possibleConstructorReturn","self","call","ReferenceError","_inherits","subClass","superClass","prototype","Object","create","constructor","value","enumerable","writable","configurable","setPrototypeOf","__proto__","defineProperty","__WEBPACK_IMPORTED_MODULE_0_react__","__WEBPACK_IMPORTED_MODULE_0_react___default","n","__WEBPACK_IMPORTED_MODULE_1_antd__","__WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__","_createClass","defineProperties","target","props","i","length","descriptor","key","protoProps","staticProps","TreeNode","Tree","iconStyle","fontSize","color","marginLeft","iconActiveStyle","assign","Menu","_React$Component","_ref","_temp","_this","_ret","this","_len","arguments","args","Array","_key","getPrototypeOf","apply","concat","state","menuLists","selectedKeys","expandedKeys","visible","isEditor","activeData","undefined","getMenuLists","res","success","msg","obj","id","parentId","name","url","iconUrl","iconSelectedUrl","seq","tags","subMenus","errorCode","setState","onSelect","info","node","detail","onDragEnter","onDrop","deleteAction","Modal","confirm","title","onOk","message","error","onCancel","okText","cancelText","saveAction","values","data","sourceCode","_this2","a","createElement","style","padding","lineHeight","extra","icon","type","disabled","marginRight","onClick","defaultExpandedKeys","draggable","loop","map","item","React","Component","1263","__WEBPACK_IMPORTED_MODULE_2__components_MainModal__","FormItem","Form","Item","formItemLayout","labelCol","span","wrapperCol","paddingLeft","AddOrEditRole","_Component","sureAction","form","validateFields","err","getFieldDecorator","isHasUrl","label","rules","required","initialValue","placeholder","TextArea","resize","height","AddOrEditRoleModel"],"mappings":"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","file":"static/js/21.41cf4fa8.chunk.js","sourcesContent":["webpackJsonp([21],{\n\n/***/ 1262:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\nObject.defineProperty(__webpack_exports__, \"__esModule\", { value: true });\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__ = __webpack_require__(1263);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}var TreeNode=__WEBPACK_IMPORTED_MODULE_1_antd__[\"C\" /* Tree */].TreeNode;var iconStyle={fontSize:'20px',color:'#aaa',marginLeft:'10px'};var iconActiveStyle=Object.assign({},iconStyle,{color:'rgb(24, 144, 255)'});var Menu=function(_React$Component){_inherits(Menu,_React$Component);function Menu(){var _ref;var _temp,_this,_ret;_classCallCheck(this,Menu);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=Menu.__proto__||Object.getPrototypeOf(Menu)).call.apply(_ref,[this].concat(args))),_this),_this.state={menuLists:[],//菜单列表\nselectedKeys:[],//选中节点\nexpandedKeys:[],//展开节点\nvisible:false,//是否显示新增或修改模态框\nisEditor:false,//是否修改\nactiveData:undefined//选中节点信息\n},_this.getMenuLists=function(){var res={\"success\":true,\"msg\":\"成功\",\"obj\":[{\"id\":150,\"parentId\":-1,\"name\":\"综合画像\",\"url\":\"\",\"iconUrl\":\"n_ico2.png\",\"iconSelectedUrl\":\"n_ico2.png\",\"seq\":11,\"tags\":[],\"subMenus\":[{\"id\":151,\"parentId\":150,\"name\":\"群体画像\",\"url\":\"/mainframe/GroupPortrait\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":12,\"tags\":[],\"subMenus\":[]},{\"id\":152,\"parentId\":150,\"name\":\"个人画像\",\"url\":\"/mainframe/personalportrait\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":13,\"tags\":[],\"subMenus\":[]}]},{\"id\":2,\"parentId\":-1,\"name\":\"轨迹分析\",\"url\":\"\",\"iconUrl\":\"n_ico3.png\",\"iconSelectedUrl\":\"n_ico3.png\",\"seq\":14,\"tags\":[],\"subMenus\":[{\"id\":4,\"parentId\":2,\"name\":\"个人轨迹\",\"url\":\"/mainframe/personalpath\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":58,\"tags\":[],\"subMenus\":[]},{\"id\":153,\"parentId\":2,\"name\":\"群体轨迹\",\"url\":\"/mainframe/grouppath\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":59,\"tags\":[],\"subMenus\":[]}]},{\"id\":178,\"parentId\":-1,\"name\":\"综合预警\",\"url\":\"/mainframe/comprehensivewarning\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":256,\"tags\":[],\"subMenus\":[]},{\"id\":179,\"parentId\":-1,\"name\":\"系统设置\",\"url\":\"/mainframe/systemsetup\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":257,\"tags\":[],\"subMenus\":[{\"id\":180,\"parentId\":179,\"name\":\"预警设置\",\"url\":\"/mainframe/systemsetup/earlywarningsetting\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":387,\"tags\":[],\"subMenus\":[]},{\"id\":181,\"parentId\":179,\"name\":\"行为轨迹设置\",\"url\":\"/mainframe/systemsetup/behaviortrajectory\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":388,\"tags\":[],\"subMenus\":[]}]},{\"id\":10,\"parentId\":-1,\"name\":\"权限管理\",\"url\":\"\",\"iconUrl\":\"xitongguanli.png\",\"iconSelectedUrl\":\"xitongguanli2.png\",\"seq\":259,\"tags\":[],\"subMenus\":[{\"id\":25,\"parentId\":10,\"name\":\"账户管理\",\"url\":\"/mainframe/accessmanage/account\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":264,\"tags\":[],\"subMenus\":[]},{\"id\":24,\"parentId\":10,\"name\":\"菜单管理\",\"url\":\"/mainframe/accessmanage/menu\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":265,\"tags\":[],\"subMenus\":[]},{\"id\":26,\"parentId\":10,\"name\":\"权限配置\",\"url\":\"/mainframe/accessmanage/authority\",\"iconUrl\":\"\",\"iconSelectedUrl\":\"\",\"seq\":266,\"tags\":[],\"subMenus\":[]}]}],\"errorCode\":null};if(res.success){_this.setState({menuLists:res.obj||[]});}},_this.onSelect=function(selectedKeys,info){if(selectedKeys.length>0){_this.setState({selectedKeys:selectedKeys,activeData:info.node.props.detail});}else{_this.setState({selectedKeys:selectedKeys,activeData:undefined});}},_this.onDragEnter=function(info){// expandedKeys 需要受控时设置\n_this.setState({expandedKeys:info.expandedKeys});},_this.onDrop=function(info){}// 拖拽限制处理以及获取拖拽节点的id和父节点id以及计算\n// console.log(info.dragNode)\n// let dragNodeDetail = info.dragNode.props.detail;//拖动节点\n// let dropNodeDetail = info.node.props.detail;//放置节点\n// const dropKey = info.node.props.eventKey; //放置节点id\n// const dragKey = info.dragNode.props.eventKey; //拖动节点id\n// const dropPos = info.node.props.pos.split('-');\n// //如果是父节点不能拖动到别人节点里面\n// if(dragNodeDetail && dragNodeDetail.parentId<=0 && dragNodeDetail.subMenus.length>0 &&(dropPos.length>2 || !info.dropToGap)){\n// \tmessage.warn('不能移动有子节点的节点！');\n// \treturn;\n// }\n// //限制不能拖动到子节点上\n// if(!info.dropToGap && dropPos.length>2){\n// \treturn;\n// }\n// const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\n// //参数\n// let targetSeq,targetParentId,id=dragKey;\n// if(dropPos.length===2 && !info.dropToGap){\n// \ttargetParentId = dropKey;\n// \ttargetSeq = dropNodeDetail.seq+1;\n// } else if(dropPos.length>2){\n// \ttargetParentId = dropNodeDetail.parentId;\n// \ttargetSeq = dropNodeDetail.seq+dropPosition;\n// } else if(dropPos.length===2 && info.dropToGap){\n// \ttargetParentId = -1;\n// \ttargetSeq = dropNodeDetail.seq+dropPosition;\n// }\n// console.log(dropPos.length,dropPosition,info.dropToGap,targetSeq,targetParentId,id)\n//拖动后请求接口改变菜单的排序\n//删除菜单\n,_this.deleteAction=function(){if(_this.state.activeData){__WEBPACK_IMPORTED_MODULE_1_antd__[\"p\" /* Modal */].confirm({title:'\\u786E\\u5B9A\\u5220\\u9664'+_this.state.activeData.name+'\\u83DC\\u5355\\u5417?',onOk:function onOk(){//处理删除功能,根据返回结果处理\n// let data = {\n// \tid: this.state.activeData.id\n// }\nvar res={success:true};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success('删除成功！');_this.getMenuLists();}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}},onCancel:function onCancel(){},okText:'确定',cancelText:'取消'});}},_this.saveAction=function(values){var isEditor=_this.state.isEditor;var name=values.name,seq=values.seq,url=values.url;var data={name:name,seq:seq,url:url,sourceCode:'pc',iconUrl:'test',iconSelectedUrl:'test'};// let reqUrl = '/bigdata/system/menu/save'; //新增时的角色保存接口\nif(isEditor){//编辑角色时修改请求接口、添加角色id参数\n// reqUrl = '/bigdata/system/menu/update';\ndata.id=_this.state.activeData.id;}else if(_this.state.activeData&&_this.state.activeData.parentId<=0){data.parentId=_this.state.activeData.id;}//保存操作，根据结果进行界面处理\nvar res={success:true};if(res.success){__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].success('保存成功！');_this.setState({visible:false,isEditor:false},function(){_this.getMenuLists();});}else{__WEBPACK_IMPORTED_MODULE_1_antd__[\"E\" /* message */].error(res.obj);}},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(Menu,[{key:'componentWillMount',value:function componentWillMount(){this.getMenuLists();}//获取菜单列表\n//选中节点修改\n//拖拽开始\n//拖拽中\n//编辑和新增确定时保存角色信息\n},{key:'render',value:function render(){var _this2=this;//递归菜单列表\nvar loop=function loop(data){return data.map(function(item){if(item.subMenus&&item.subMenus.length){return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TreeNode,{key:item.id,title:item.name,detail:item},loop(item.subMenus));}return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(TreeNode,{key:item.id,title:item.name,detail:item});});};return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',{style:{padding:'20px'}},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"e\" /* Card */],{title:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('span',{style:{color:'#1890FF',lineHeight:'34px'}},'\\u83DC\\u5355'),extra:__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement('div',null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"d\" /* Button */],{icon:'plus',type:'primary',disabled:this.state.activeData&&this.state.activeData.parentId>0,style:{marginRight:20},onClick:function onClick(){_this2.setState({visible:true,isEditor:false});}},'\\u6DFB\\u52A0\\u83DC\\u5355'),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"j\" /* Icon */],{type:'form',style:this.state.activeData?iconActiveStyle:iconStyle,onClick:function onClick(){if(_this2.state.activeData){_this2.setState({visible:true,isEditor:true});}}}),__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"j\" /* Icon */],{type:'delete',style:this.state.activeData?iconActiveStyle:iconStyle,onClick:this.deleteAction}))},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"C\" /* Tree */],{onSelect:this.onSelect,selectedKeys:this.state.selectedKeys,defaultExpandedKeys:this.state.expandedKeys,draggable:true,onDragEnter:this.onDragEnter,onDrop:this.onDrop},loop(this.state.menuLists))),this.state.visible?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__AddOrEditRoleModel__[\"a\" /* default */],{title:this.state.isEditor?'编辑菜单':'新建菜单',visible:this.state.visible,isEditor:this.state.isEditor,onOk:this.saveAction,activeData:this.state.activeData,onCancel:function onCancel(){return _this2.setState({visible:false,isEditor:false});}}):null);}}]);return Menu;}(__WEBPACK_IMPORTED_MODULE_0_react___default.a.Component);/* harmony default export */ __webpack_exports__[\"default\"] = (Menu);\n\n/***/ }),\n\n/***/ 1263:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react__ = __webpack_require__(0);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_0_react___default = __webpack_require__.n(__WEBPACK_IMPORTED_MODULE_0_react__);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_1_antd__ = __webpack_require__(382);\n/* harmony import */ var __WEBPACK_IMPORTED_MODULE_2__components_MainModal__ = __webpack_require__(1062);\nvar _createClass=function(){function defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||false;descriptor.configurable=true;if(\"value\"in descriptor)descriptor.writable=true;Object.defineProperty(target,descriptor.key,descriptor);}}return function(Constructor,protoProps,staticProps){if(protoProps)defineProperties(Constructor.prototype,protoProps);if(staticProps)defineProperties(Constructor,staticProps);return Constructor;};}();function _classCallCheck(instance,Constructor){if(!(instance instanceof Constructor)){throw new TypeError(\"Cannot call a class as a function\");}}function _possibleConstructorReturn(self,call){if(!self){throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");}return call&&(typeof call===\"object\"||typeof call===\"function\")?call:self;}function _inherits(subClass,superClass){if(typeof superClass!==\"function\"&&superClass!==null){throw new TypeError(\"Super expression must either be null or a function, not \"+typeof superClass);}subClass.prototype=Object.create(superClass&&superClass.prototype,{constructor:{value:subClass,enumerable:false,writable:true,configurable:true}});if(superClass)Object.setPrototypeOf?Object.setPrototypeOf(subClass,superClass):subClass.__proto__=superClass;}/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */var FormItem=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].Item;var formItemLayout={labelCol:{span:4},wrapperCol:{span:19,style:{paddingLeft:'10px'}}};var AddOrEditRole=function(_Component){_inherits(AddOrEditRole,_Component);function AddOrEditRole(){var _ref;var _temp,_this,_ret;_classCallCheck(this,AddOrEditRole);for(var _len=arguments.length,args=Array(_len),_key=0;_key<_len;_key++){args[_key]=arguments[_key];}return _ret=(_temp=(_this=_possibleConstructorReturn(this,(_ref=AddOrEditRole.__proto__||Object.getPrototypeOf(AddOrEditRole)).call.apply(_ref,[this].concat(args))),_this),_this.sureAction=function(){_this.props.form.validateFields(function(err,values){if(!err){_this.props.onOk(values);}});},_temp),_possibleConstructorReturn(_this,_ret);}_createClass(AddOrEditRole,[{key:'render',value:function render(){var getFieldDecorator=this.props.form.getFieldDecorator;var activeData=this.props.isEditor?this.props.activeData:undefined;var isHasUrl=!activeData||activeData.subMenus.length===0;return __WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_2__components_MainModal__[\"a\" /* default */],{title:this.props.title,visible:true,onOk:this.sureAction,onCancel:this.props.onCancel,okText:'\\u786E\\u5B9A',cancelText:'\\u53D6\\u6D88'},__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u540D\\u79F0'}),getFieldDecorator('name',{rules:[{required:true,message:'请输入菜单名称'}],initialValue:activeData&&activeData.name})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u83DC\\u5355\\u540D\\u79F0'}))),isHasUrl?__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'URL'}),getFieldDecorator('url',{rules:[{required:true,message:'请输入路由地址'}],initialValue:activeData&&activeData.url})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */],{placeholder:'\\u8BF7\\u8F93\\u5165\\u8DEF\\u7531\\u5730\\u5740'}))):null,__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(FormItem,Object.assign({},formItemLayout,{label:'\\u6392\\u5E8F'}),getFieldDecorator('seq',{rules:[{required:true,message:'请输入排序'}],initialValue:activeData&&activeData.seq})(__WEBPACK_IMPORTED_MODULE_0_react___default.a.createElement(__WEBPACK_IMPORTED_MODULE_1_antd__[\"k\" /* Input */].TextArea,{style:{resize:'none',height:60},placeholder:'\\u8BF7\\u8F93\\u5165\\u6392\\u5E8F'}))));}}]);return AddOrEditRole;}(__WEBPACK_IMPORTED_MODULE_0_react__[\"Component\"]);var AddOrEditRoleModel=__WEBPACK_IMPORTED_MODULE_1_antd__[\"i\" /* Form */].create()(AddOrEditRole);/* harmony default export */ __webpack_exports__[\"a\"] = (AddOrEditRoleModel);\n\n/***/ })\n\n});\n\n\n// WEBPACK FOOTER //\n// static/js/21.41cf4fa8.chunk.js","import React from 'react';\r\nimport { Card, Tree, Button, Icon, Modal, message } from 'antd';\r\nimport AddOrEditRoleModel from './AddOrEditRoleModel'\r\n\r\nconst TreeNode = Tree.TreeNode;\r\n\r\nconst iconStyle = {\r\n\tfontSize: '20px',\r\n\tcolor: '#aaa',\r\n\tmarginLeft: '10px'\r\n}\r\nconst iconActiveStyle = Object.assign({},iconStyle,{color:'rgb(24, 144, 255)'});\r\n\r\nclass Menu extends React.Component {\r\n\tstate = {\r\n\t\tmenuLists: [], //菜单列表\r\n\t\tselectedKeys: [], //选中节点\r\n\t\texpandedKeys: [], //展开节点\r\n\t\tvisible: false, //是否显示新增或修改模态框\r\n\t\tisEditor: false, //是否修改\r\n\t\tactiveData: undefined, //选中节点信息\r\n\t}\r\n\tcomponentWillMount() {\r\n\t\tthis.getMenuLists();\r\n\t}\r\n\t//获取菜单列表\r\n\tgetMenuLists = () => {\r\n\t\tconst res = {\r\n\t\t\t\"success\": true,\r\n\t\t\t\"msg\": \"成功\",\r\n\t\t\t\"obj\": [\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 150,\r\n\t\t\t\t\t\"parentId\": -1,\r\n\t\t\t\t\t\"name\": \"综合画像\",\r\n\t\t\t\t\t\"url\": \"\",\r\n\t\t\t\t\t\"iconUrl\": \"n_ico2.png\",\r\n\t\t\t\t\t\"iconSelectedUrl\": \"n_ico2.png\",\r\n\t\t\t\t\t\"seq\": 11,\r\n\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\"subMenus\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 151,\r\n\t\t\t\t\t\t\t\"parentId\": 150,\r\n\t\t\t\t\t\t\t\"name\": \"群体画像\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/GroupPortrait\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 12,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 152,\r\n\t\t\t\t\t\t\t\"parentId\": 150,\r\n\t\t\t\t\t\t\t\"name\": \"个人画像\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/personalportrait\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 13,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 2,\r\n\t\t\t\t\t\"parentId\": -1,\r\n\t\t\t\t\t\"name\": \"轨迹分析\",\r\n\t\t\t\t\t\"url\": \"\",\r\n\t\t\t\t\t\"iconUrl\": \"n_ico3.png\",\r\n\t\t\t\t\t\"iconSelectedUrl\": \"n_ico3.png\",\r\n\t\t\t\t\t\"seq\": 14,\r\n\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\"subMenus\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 4,\r\n\t\t\t\t\t\t\t\"parentId\": 2,\r\n\t\t\t\t\t\t\t\"name\": \"个人轨迹\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/personalpath\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 58,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 153,\r\n\t\t\t\t\t\t\t\"parentId\": 2,\r\n\t\t\t\t\t\t\t\"name\": \"群体轨迹\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/grouppath\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 59,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 178,\r\n\t\t\t\t\t\"parentId\": -1,\r\n\t\t\t\t\t\"name\": \"综合预警\",\r\n\t\t\t\t\t\"url\": \"/mainframe/comprehensivewarning\",\r\n\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\"seq\": 256,\r\n\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 179,\r\n\t\t\t\t\t\"parentId\": -1,\r\n\t\t\t\t\t\"name\": \"系统设置\",\r\n\t\t\t\t\t\"url\": \"/mainframe/systemsetup\",\r\n\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\"seq\": 257,\r\n\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\"subMenus\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 180,\r\n\t\t\t\t\t\t\t\"parentId\": 179,\r\n\t\t\t\t\t\t\t\"name\": \"预警设置\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/systemsetup/earlywarningsetting\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 387,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 181,\r\n\t\t\t\t\t\t\t\"parentId\": 179,\r\n\t\t\t\t\t\t\t\"name\": \"行为轨迹设置\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/systemsetup/behaviortrajectory\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 388,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\t\"id\": 10,\r\n\t\t\t\t\t\"parentId\": -1,\r\n\t\t\t\t\t\"name\": \"权限管理\",\r\n\t\t\t\t\t\"url\": \"\",\r\n\t\t\t\t\t\"iconUrl\": \"xitongguanli.png\",\r\n\t\t\t\t\t\"iconSelectedUrl\": \"xitongguanli2.png\",\r\n\t\t\t\t\t\"seq\": 259,\r\n\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\"subMenus\": [\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 25,\r\n\t\t\t\t\t\t\t\"parentId\": 10,\r\n\t\t\t\t\t\t\t\"name\": \"账户管理\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/accessmanage/account\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 264,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 24,\r\n\t\t\t\t\t\t\t\"parentId\": 10,\r\n\t\t\t\t\t\t\t\"name\": \"菜单管理\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/accessmanage/menu\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 265,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t},\r\n\t\t\t\t\t\t{\r\n\t\t\t\t\t\t\t\"id\": 26,\r\n\t\t\t\t\t\t\t\"parentId\": 10,\r\n\t\t\t\t\t\t\t\"name\": \"权限配置\",\r\n\t\t\t\t\t\t\t\"url\": \"/mainframe/accessmanage/authority\",\r\n\t\t\t\t\t\t\t\"iconUrl\": \"\",\r\n\t\t\t\t\t\t\t\"iconSelectedUrl\": \"\",\r\n\t\t\t\t\t\t\t\"seq\": 266,\r\n\t\t\t\t\t\t\t\"tags\": [],\r\n\t\t\t\t\t\t\t\"subMenus\": []\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t]\r\n\t\t\t\t}\r\n\t\t\t],\r\n\t\t\t\"errorCode\": null\r\n\t\t}\r\n\t\tif (res.success) {\r\n\t\t\tthis.setState({\r\n\t\t\t\tmenuLists: res.obj || []\r\n\t\t\t})\r\n\t\t}\r\n\t}\r\n\t//选中节点修改\r\n\tonSelect = (selectedKeys, info) => {\r\n\t\tif(selectedKeys.length>0){\r\n\t\t\tthis.setState({ selectedKeys, activeData: info.node.props.detail });\r\n\t\t} else {\r\n\t\t\tthis.setState({ selectedKeys, activeData: undefined });\r\n\t\t}\r\n\t}\r\n\t//拖拽开始\r\n\tonDragEnter = (info) => {\r\n\t\t// expandedKeys 需要受控时设置\r\n\t\tthis.setState({\r\n\t\t  expandedKeys: info.expandedKeys,\r\n\t\t});\r\n\t}\r\n\t//拖拽中\r\n\tonDrop = (info) => {\r\n\t\t// 拖拽限制处理以及获取拖拽节点的id和父节点id以及计算\r\n\t\t// console.log(info.dragNode)\r\n\t\t// let dragNodeDetail = info.dragNode.props.detail;//拖动节点\r\n\t\t// let dropNodeDetail = info.node.props.detail;//放置节点\r\n\r\n\t\t// const dropKey = info.node.props.eventKey; //放置节点id\r\n\t\t// const dragKey = info.dragNode.props.eventKey; //拖动节点id\r\n\t\t// const dropPos = info.node.props.pos.split('-');\r\n\r\n\t\t// //如果是父节点不能拖动到别人节点里面\r\n\t\t\r\n\t\t// if(dragNodeDetail && dragNodeDetail.parentId<=0 && dragNodeDetail.subMenus.length>0 &&(dropPos.length>2 || !info.dropToGap)){\r\n\t\t// \tmessage.warn('不能移动有子节点的节点！');\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\t// //限制不能拖动到子节点上\r\n\t\t// if(!info.dropToGap && dropPos.length>2){\r\n\t\t// \treturn;\r\n\t\t// }\r\n\t\t// const dropPosition = info.dropPosition - Number(dropPos[dropPos.length - 1]);\r\n\t\t// //参数\r\n\t\t// let targetSeq,targetParentId,id=dragKey;\r\n\t\t// if(dropPos.length===2 && !info.dropToGap){\r\n\t\t// \ttargetParentId = dropKey;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+1;\r\n\t\t// } else if(dropPos.length>2){\r\n\t\t// \ttargetParentId = dropNodeDetail.parentId;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+dropPosition;\r\n\t\t// } else if(dropPos.length===2 && info.dropToGap){\r\n\t\t// \ttargetParentId = -1;\r\n\t\t// \ttargetSeq = dropNodeDetail.seq+dropPosition;\r\n\t\t// }\r\n\r\n\t\t// console.log(dropPos.length,dropPosition,info.dropToGap,targetSeq,targetParentId,id)\r\n\t\t//拖动后请求接口改变菜单的排序\r\n\t\t\r\n\t}\r\n\r\n\t//删除菜单\r\n    deleteAction = () => {\r\n\t\tif(this.state.activeData){\r\n\t\t\tModal.confirm({\r\n\t\t\t\ttitle: `确定删除${this.state.activeData.name}菜单吗?`,\r\n\t\t\t\tonOk:()=> {\r\n\t\t\t\t\t//处理删除功能,根据返回结果处理\r\n\t\t\t\t\t// let data = {\r\n\t\t\t\t\t// \tid: this.state.activeData.id\r\n\t\t\t\t\t// }\r\n\r\n\t\t\t\t\tconst res = {\r\n\t\t\t\t\t\tsuccess:true\r\n\t\t\t\t\t}\r\n\t\t\t\t\tif(res.success){\r\n\t\t\t\t\t\tmessage.success('删除成功！');\r\n\t\t\t\t\t\tthis.getMenuLists();\r\n\t\t\t\t\t} else {\r\n\t\t\t\t\t\tmessage.error(res.obj);\r\n\t\t\t\t\t}\r\n\t\t\t\t},\r\n\t\t\t\tonCancel() {},\r\n\t\t\t\tokText:'确定',\r\n\t\t\t\tcancelText:'取消',\r\n\t\t\t});\r\n\t\t}\r\n    }\r\n\t//编辑和新增确定时保存角色信息\r\n\tsaveAction = (values) => {\r\n\t\tlet isEditor = this.state.isEditor;\r\n        let { name, seq, url } = values;\r\n        let data = {name, seq, url, sourceCode: 'pc',iconUrl:'test',iconSelectedUrl:'test'};\r\n        // let reqUrl = '/bigdata/system/menu/save'; //新增时的角色保存接口\r\n        if(isEditor){ //编辑角色时修改请求接口、添加角色id参数\r\n            // reqUrl = '/bigdata/system/menu/update';\r\n            data.id = this.state.activeData.id\r\n\t\t} else if(this.state.activeData && this.state.activeData.parentId<=0) {\r\n\t\t\tdata.parentId = this.state.activeData.id;\r\n\t\t}\r\n\t\t//保存操作，根据结果进行界面处理\r\n\t\tconst res = {\r\n\t\t\tsuccess: true\r\n\t\t}\r\n        if(res.success){\r\n\t\t\tmessage.success('保存成功！');\r\n\t\t\tthis.setState({visible:false,isEditor:false},()=>{\r\n\t\t\t\tthis.getMenuLists();\r\n\t\t\t});\r\n\t\t} else {\r\n\t\t\tmessage.error(res.obj);\r\n\t\t}\r\n\t}\r\n\trender() {\r\n\t\t//递归菜单列表\r\n\t\tconst loop = data => data.map((item) => {\r\n\t\t\tif (item.subMenus && item.subMenus.length) {\r\n\t\t\t\treturn <TreeNode key={item.id} title={item.name} detail={item}>{loop(item.subMenus)}</TreeNode>;\r\n\t\t\t}\r\n\t\t\treturn <TreeNode key={item.id} title={item.name} detail={item}/>;\r\n\t\t});\r\n\t\treturn (\r\n\t\t\t<div style={{ padding: '20px' }}>\r\n\t\t\t\t<Card\r\n\t\t\t\t\ttitle={<span style={{ color: '#1890FF', lineHeight: '34px' }}>菜单</span>}\r\n\t\t\t\t\textra={<div>\r\n\t\t\t\t\t\t<Button icon=\"plus\" type=\"primary\" disabled={this.state.activeData&&this.state.activeData.parentId>0} style={{ marginRight: 20 }} onClick={()=>{\r\n\t\t\t\t\t\t\tthis.setState({visible:true,isEditor:false})\r\n\t\t\t\t\t\t}}>添加菜单</Button>\r\n\t\t\t\t\t\t<Icon type=\"form\" style={this.state.activeData?iconActiveStyle:iconStyle} onClick={()=>{\r\n\t\t\t\t\t\t\tif(this.state.activeData){\r\n\t\t\t\t\t\t\t\tthis.setState({visible:true,isEditor:true})\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}} />\r\n\t\t\t\t\t\t<Icon type=\"delete\" style={this.state.activeData?iconActiveStyle:iconStyle} onClick={this.deleteAction} />\r\n\t\t\t\t\t</div>}\r\n\t\t\t\t>\r\n\t\t\t\t\t<Tree\r\n\t\t\t\t\t\tonSelect={this.onSelect}\r\n\t\t\t\t\t\tselectedKeys={this.state.selectedKeys}\r\n\t\t\t\t\t\tdefaultExpandedKeys={this.state.expandedKeys}\r\n\t\t\t\t\t\tdraggable\r\n\t\t\t\t\t\tonDragEnter={this.onDragEnter}\r\n\t\t\t\t\t\tonDrop={this.onDrop}\r\n\t\t\t\t\t>\r\n\t\t\t\t\t\t{loop(this.state.menuLists)}\r\n\t\t\t\t\t</Tree>\r\n\t\t\t\t</Card>\r\n\t\t\t\t{this.state.visible?(\r\n                    <AddOrEditRoleModel\r\n                        title={this.state.isEditor?'编辑菜单':'新建菜单'}\r\n\t\t\t\t\t\tvisible={this.state.visible}\r\n\t\t\t\t\t\tisEditor={this.state.isEditor}\r\n                        onOk={this.saveAction}\r\n                        activeData={this.state.activeData}\r\n                        onCancel={()=>this.setState({visible:false,isEditor:false})}\r\n                    />\r\n                ):null}\r\n\t\t\t</div>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nexport default Menu;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Menu/index.js","/**\r\n * Created by hutao on 2018/8/31.\r\n * 权限配置\r\n */\r\nimport React, { Component } from 'react';\r\nimport { Form, Input } from 'antd';\r\nimport MainModal from '../../../components/MainModal';\r\n\r\nconst FormItem = Form.Item;\r\nconst formItemLayout = {\r\n    labelCol: { span: 4 },\r\n    wrapperCol: { span: 19, style:{paddingLeft:'10px'}},\r\n};\r\n\r\nclass AddOrEditRole extends Component {\r\n    sureAction = () => {\r\n        this.props.form.validateFields(\r\n            (err,values) => {\r\n                if (!err) {\r\n                    this.props.onOk(values);\r\n                }\r\n            },\r\n        );\r\n    }\r\n\trender () {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let activeData = this.props.isEditor ? this.props.activeData: undefined;\r\n        let isHasUrl = !activeData || activeData.subMenus.length===0;\r\n\t\treturn (\r\n\t\t\t<MainModal\r\n                title={this.props.title}\r\n                visible={true}\r\n                onOk={this.sureAction}\r\n                onCancel={this.props.onCancel}\r\n                okText=\"确定\"\r\n                cancelText=\"取消\"\r\n            >\r\n                <FormItem {...formItemLayout} label=\"名称\">\r\n                    {getFieldDecorator('name', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入菜单名称'\r\n                        }],\r\n                        initialValue: activeData&&activeData.name\r\n                    })(\r\n                        <Input placeholder=\"请输入菜单名称\" />\r\n                    )}\r\n                </FormItem>\r\n                {isHasUrl?\r\n                    <FormItem {...formItemLayout} label=\"URL\">\r\n                        {getFieldDecorator('url', {\r\n                            rules: [{\r\n                                required: true,\r\n                                message: '请输入路由地址'\r\n                            }],\r\n                            initialValue: activeData&&activeData.url\r\n                        })(\r\n                            <Input placeholder=\"请输入路由地址\"/>\r\n                        )}\r\n                    </FormItem>:null\r\n                }\r\n                <FormItem {...formItemLayout} label=\"排序\">\r\n                    {getFieldDecorator('seq', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请输入排序'\r\n                        }],\r\n                        initialValue: activeData&&activeData.seq\r\n                    })(\r\n                        <Input.TextArea style={{resize:'none',height:60}} placeholder=\"请输入排序\"/>\r\n                    )}\r\n                </FormItem>\r\n            </MainModal>\r\n\t\t)\r\n\t}\r\n}\r\n\r\nconst AddOrEditRoleModel = Form.create()(AddOrEditRole);\r\nexport default AddOrEditRoleModel;\n\n\n// WEBPACK FOOTER //\n// ./src/common/template/AccessManage/Menu/AddOrEditRoleModel.js"],"sourceRoot":""}