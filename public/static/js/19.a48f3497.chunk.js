webpackJsonp([19],{1065:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),i=n.n(l),s=n(382),c=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),u=function(e){function t(){return a(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return o(t,e),c(t,[{key:"changePage",value:function(e){this.props.changePage&&this.props.changePage(e)}},{key:"render",value:function(){var e=Object.assign({},this.props,{pagination:!1}),t=Object.assign({},{marginTop:20,textAlign:"right"},this.props.paginationStyle||{});return i.a.createElement("div",null,i.a.createElement(s.y,e),this.props.pagination&&this.props.total?i.a.createElement(s.q,{style:t,showQuickJumper:!0,defaultCurrent:1,current:this.props.current,defaultPageSize:this.props.defaultPageSize||10,pageSize:this.props.pageSize||10,showTotal:function(e){return"\u5171"+e+"\u6761\u6570\u636e"},total:this.props.total,onChange:this.changePage.bind(this)}):void 0)}}]),t}(l.Component);t.a=u},1255:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}Object.defineProperty(t,"__esModule",{value:!0});var l=n(0),i=n.n(l),s=n(126),c=n(382),u=n(1256),d=n(22),p=n.n(d),m=n(208),f=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),h=c.i.Item,g=c.h.RangePicker,y={labelCol:{span:10},wrapperCol:{span:14,style:{paddingLeft:"10px"}}},b=[{label:"\u5931\u8054\u9884\u8b66",value:"missAlarm"},{label:"\u7f51\u7edc\u9884\u8b66",value:"networkAlarm"},{label:"\u5b66\u4e1a\u9884\u8b66",value:"studyAlarm"},{label:"\u6d88\u8d39\u9884\u8b66",value:"consumeAlarm"}],v=function(e){return e&&e<p()().endOf("day")},w="YYYY-MM-DD",E={width:258,height:58,borderRadius:4,border:"1px dashed #d9d9d9",cursor:"pointer",marginTop:-10,lineHeight:"20px",textAlign:"center"},O=function(e){function t(){var e,n,o,l;a(this,t);for(var i=arguments.length,s=Array(i),u=0;u<i;u++)s[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(s))),o.state={visible:!1,selectedStudent:void 0,editId:void 0,editInfo:void 0},o.chooseStudent=function(e){o.setState({selectedStudent:e,visible:!1}),o.props.form.setFieldsValue({studentNo:e.studentNo})},o.saveAction=function(){o.props.form.validateFields(function(e,t){if(!e){var n=t.studentNo,a=t.remark,r=t.warnModule,l=t.rangePicker,i=r.indexOf("missAlarm")>=0?1:0,s=r.indexOf("networkAlarm")>=0?1:0,u=r.indexOf("studyAlarm")>=0?1:0,d=r.indexOf("consumeAlarm")>=0?1:0,p={studentNo:n,missAlarm:i,networkAlarm:s,studyAlarm:u,consumeAlarm:d,remark:a,startDate:l[0].format(w),endDate:l[1].format(w)};o.state.editInfo&&(p.id=o.state.editInfo.id),c.E.success("\u4fdd\u5b58\u6210\u529f\uff01",1,function(){o.props.history.push("/mainframe/systemsetup/earlywarningsetting?whitelist")})}})},l=n,r(o,l)}return o(t,e),f(t,[{key:"componentWillMount",value:function(){var e=this,t=Object(m.d)();t.id&&this.setState({editId:t.id},function(){var t={id:"c93692c0ca10464b919237de9eb2cc7a",studentNo:"131594206",missAlarm:1,networkAlarm:0,studyAlarm:1,consumeAlarm:0,remark:"1212",startDate:"2018-09-14",endDate:"2018-10-23",name:"\u4f55\u5fd7\u4e00",gender:"\u7537",collegeName:"\u673a\u68b0\u5de5\u7a0b\u5b66\u9662(\u8054\u5408\u57f9\u517b)"},n=[1===t.missAlarm?"missAlarm":null,1===t.networkAlarm?"networkAlarm":null,1===t.studyAlarm?"studyAlarm":null,1===t.consumeAlarm?"consumeAlarm":null].filter(function(e){return null!==e}),a=Object.assign({},{warnModule:n},t)||{};e.setState({editInfo:a,selectedStudent:a})})}},{key:"render",value:function(){var e=this,t=this.props.form.getFieldDecorator,n=this.state.editInfo,a=this.state.selectedStudent;return i.a.createElement("div",null,i.a.createElement(c.c,{className:"breadcrumb"},i.a.createElement(c.c.Item,null,"\u7efc\u5408\u9884\u8b66"),i.a.createElement(c.c.Item,null,"\u9884\u8b66\u8bbe\u7f6e"),i.a.createElement(c.c.Item,null,"\u9884\u8b66\u767d\u540d\u5355")),i.a.createElement("div",{className:"common-content"},i.a.createElement(c.e,{title:i.a.createElement("div",{className:"common-title"},this.state.editId?"\u7f16\u8f91\u4e2a\u4eba\u767d\u540d\u5355\u914d\u7f6e":"\u65b0\u589e\u4e2a\u4eba\u767d\u540d\u5355\u914d\u7f6e")},i.a.createElement(h,Object.assign({},y,{style:{paddingTop:10},label:"\u9009\u62e9\u5b66\u751f"}),t("studentNo",{rules:[{required:!0,message:"\u8bf7\u9009\u62e9\u5b66\u751f\uff01"}],initialValue:n&&n.studentNo})(i.a.createElement(c.u,{type:"flex",align:"middle",justify:"center",style:E,onClick:function(){return e.setState({visible:!0})}},a?i.a.createElement("div",null,a.name," ",i.a.createElement("br",null),a.studentNo,"\uff0c",a.collegeName):i.a.createElement("div",null,i.a.createElement(c.j,{type:"plus"})," \u6dfb\u52a0\u5b66\u751f")))),i.a.createElement(h,Object.assign({},y,{label:"\u9009\u62e9\u4e0d\u9884\u8b66\u65f6\u95f4"}),t("rangePicker",{rules:[{type:"array",required:!0,message:"\u8bf7\u9009\u62e9\u4e0d\u9884\u8b66\u65f6\u95f4\uff01"}],initialValue:n&&[p()(n.startDate,w),p()(n.endDate,w)]})(i.a.createElement(g,{style:{width:398},disabledDate:v}))),i.a.createElement(h,Object.assign({},y,{label:"\u5173\u8054\u6a21\u5757"}),t("warnModule",{rules:[{type:"array",required:!0,message:"\u8bf7\u9009\u62e9\u5173\u8054\u6a21\u5757\uff01"}],initialValue:n&&n.warnModule})(i.a.createElement(c.f.Group,null,b.map(function(e){return i.a.createElement("div",{style:{paddingTop:10},key:e.value},i.a.createElement(c.f,{value:e.value},e.label))})))),i.a.createElement(h,Object.assign({},y,{label:"\u5907\u6ce8"}),t("remark",{initialValue:n&&n.remark})(i.a.createElement(c.k.TextArea,{style:{width:398,height:138,resize:"none"},maxLength:"50"}))),i.a.createElement(c.u,null,i.a.createElement(c.g,y.labelCol),i.a.createElement(c.g,y.wrapperCol,i.a.createElement(c.d,{size:"large",type:"primary",style:{marginRight:20},onClick:this.saveAction},"\u4fdd \u5b58"),i.a.createElement(c.d,{size:"large",onClick:function(){e.props.history.push("/mainframe/systemsetup/earlywarningsetting?whitelist")}},"\u8fd4 \u56de"))))),this.state.visible?i.a.createElement(u.a,{title:"\u9009\u62e9\u5b66\u751f",visible:this.state.visible,selectedStudent:this.state.selectedStudent,onCancel:function(){return e.setState({visible:!1})},onOk:this.chooseStudent}):null)}}]),t}(l.Component),k=c.i.create()(O);t.default=Object(s.withRouter)(k)},1256:function(e,t,n){"use strict";function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function r(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!==typeof t&&"function"!==typeof t?e:t}function o(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var l=n(0),i=n.n(l),s=n(382),c=n(1062),u=n(1065),d=function(){function e(e,t){for(var n=0;n<t.length;n++){var a=t[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(e,a.key,a)}}return function(t,n,a){return n&&e(t.prototype,n),a&&e(t,a),t}}(),p=[{title:"\u5e8f\u53f7",dataIndex:"index",width:80,align:"center"},{title:"\u5b66\u53f7",dataIndex:"studentNo",width:200,align:"center"},{title:"\u59d3\u540d",dataIndex:"name",width:250,align:"center"},{title:"\u9662\u7cfb",dataIndex:"collegeName",align:"center"}],m=function(e){function t(){var e,n,o,l;a(this,t);for(var i=arguments.length,c=Array(i),u=0;u<i;u++)c[u]=arguments[u];return n=o=r(this,(e=t.__proto__||Object.getPrototypeOf(t)).call.apply(e,[this].concat(c))),o.state={pageNum:1,pageSize:10,total:0,studentLists:[],studentNo:void 0,name:void 0,selectedRowKeys:[],selectedRows:[]},o.getData=function(){var e=[{studentNo:"131594206",name:"\u4f55\u5fd7\u4e00",gender:"\u7537",idcard:"320112199510271617",politicalStatus:"\u7fa4\u4f17",schoolYear:2015,collegeName:"\u673a\u68b0\u5de5\u7a0b\u5b66\u9662(\u8054\u5408\u57f9\u517b)",collegeCode:"L40010",majorName:"\u673a\u68b0\u7535\u5b50\u5de5\u7a0b",majorCode:"7101",classCode:"2711501",className:"\u673a\u75351514",status:"1",nation:"\u6c49\u65cf",birthday:"1995-10-27",degree:"2",currentGrade:"2015",graduateYear:"2019"},{studentNo:"134413117",name:"\u8bb8\u91d1\u9e4f",gender:"\u7537",idcard:"320682199404256591",politicalStatus:"\u5171\u9752\u56e2\u5458",schoolYear:2014,collegeName:"\u81ea\u52a8\u5316\u5b66\u9662(\u7535\u6c14\u5de5\u7a0b\u5b66\u9662)",collegeCode:"L40050",majorName:"\u901a\u4fe1\u5de5\u7a0b",majorCode:"7302",classCode:"2741403",className:"\u901a\u4fe11414",status:"1",nation:"\u6c49\u65cf",birthday:"1994-04-25",degree:"2",currentGrade:"2014",graduateYear:"2018"},{studentNo:"141594102",name:"\u9648\u6839\u4eae",gender:"\u7537",idcard:"320723199504254011",politicalStatus:"\u5171\u9752\u56e2\u5458",schoolYear:2014,collegeName:"\u673a\u68b0\u5de5\u7a0b\u5b66\u9662(\u8054\u5408\u57f9\u517b)",collegeCode:"L40010",majorName:"\u673a\u68b0\u7535\u5b50\u5de5\u7a0b",majorCode:"7101",classCode:"2711401",className:"\u673a\u75351414",status:"1",nation:"\u6c49\u65cf",birthday:"1995-04-25",degree:"2",currentGrade:"2014",graduateYear:"2018"},{studentNo:"141594103",name:"\u9648\u91d1\u9e4f",gender:"\u7537",idcard:"320124199503062812",politicalStatus:"\u5171\u9752\u56e2\u5458",schoolYear:2014,collegeName:"\u673a\u68b0\u5de5\u7a0b\u5b66\u9662(\u8054\u5408\u57f9\u517b)",collegeCode:"L40010",majorName:"\u673a\u68b0\u7535\u5b50\u5de5\u7a0b",majorCode:"7101",classCode:"2711401",className:"\u673a\u75351414",status:"1",nation:"\u6c49\u65cf",birthday:"1995-03-06",degree:"2",currentGrade:"2014",graduateYear:"2018"}];o.setState({studentLists:e,total:e.length})},o.onOk=function(){o.state.selectedRows[0]?o.props.onOk(o.state.selectedRows[0]):s.E.warn("\u8bf7\u9009\u62e9\u5b66\u751f\uff01")},o.changePage=function(e){o.setState({pageNum:e},function(){return o.getData()})},o.rowClick=function(e){o.setState({selectedRowKeys:[e.key],selectedRows:[e]})},o.onSelectChange=function(e,t){o.setState({selectedRowKeys:e,selectedRows:t})},l=n,r(o,l)}return o(t,e),d(t,[{key:"componentWillMount",value:function(){this.props.selectedStudent&&this.setState({selectedRowKeys:[this.props.selectedStudent.studentNo],selectedRows:[this.props.selectedStudent]}),this.getData()}},{key:"render",value:function(){var e=this,t=this.state.studentLists||[];t.forEach(function(e,n){t[n].key=e.studentNo,t[n].index=n+1});var n=this.state.selectedRowKeys,a={selectedRowKeys:n,type:"radio",columnWidth:"0px",onChange:this.onSelectChange};return i.a.createElement(c.a,{title:this.props.title,visible:this.props.visible,centered:!0,onCancel:this.props.onCancel,onOk:this.onOk,width:1004},i.a.createElement(s.u,{style:{marginBottom:24}},i.a.createElement(s.g,{span:5},"\u5b66\u53f7\uff1a",i.a.createElement(s.k,{style:{width:132},placeholder:"\u8bf7\u8f93\u5165\u5b66\u53f7",value:this.state.studentNo,onChange:function(t){return e.setState({studentNo:t.target.value})}})),i.a.createElement(s.g,{span:7},"\u59d3\u540d\uff1a",i.a.createElement(s.k,{style:{width:226},placeholder:"\u8bf7\u8f93\u5165\u5b66\u751f\u59d3\u540d",value:this.state.name,onChange:function(t){return e.setState({name:t.target.value})}})),i.a.createElement(s.g,{span:12},i.a.createElement(s.d,{icon:"search",type:"primary",onClick:this.getData},"\u641c \u7d22"))),i.a.createElement(u.a,{dataSource:t,bordered:!0,rowSelection:a,columns:p,current:this.state.pageNum,pagination:!0,paginationStyle:{textAlign:"right"},size:"small",total:this.state.total,changePage:this.changePage,onRow:function(t,n){return{onClick:function(){return e.rowClick(t,n)}}}}))}}]),t}(l.Component);t.a=m}});
//# sourceMappingURL=19.a48f3497.chunk.js.map