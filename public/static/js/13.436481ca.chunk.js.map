{"version":3,"sources":["pages/ComprehensiveWarning/HandleStateModel.js","common/components/SelectYear/SelectYear.js","pages/ComprehensiveWarning/SearchBox.js","pages/ComprehensiveWarning/index.js"],"names":["RadioGroup","antd_es_radio__WEBPACK_IMPORTED_MODULE_16__","Group","FormItem","antd_es_form__WEBPACK_IMPORTED_MODULE_14__","Item","formItemLayout","labelCol","span","wrapperCol","style","paddingLeft","handleResultTypes","HandleStateModel","saveAction","_this","props","form","validateFields","err","values","res","success","antd_es_message__WEBPACK_IMPORTED_MODULE_7__","onOk","error","msg","getFieldDecorator","this","handleResult","getFieldValue","react__WEBPACK_IMPORTED_MODULE_17___default","a","createElement","_common_components_MainModal__WEBPACK_IMPORTED_MODULE_18__","title","onCancel","visible","width","Object","assign","label","rules","required","message","antd_es_row__WEBPACK_IMPORTED_MODULE_3__","map","item","antd_es_col__WEBPACK_IMPORTED_MODULE_5__","key","value","antd_es_input__WEBPACK_IMPORTED_MODULE_1__","TextArea","height","resize","Component","HandleStateModelForm","create","Option","es_select","SelectYear","state","data","year","Date","getFullYear","years","i","push","setState","handleChange","_this2","_react_16_6_3_react_default","className","placeholder","defaultValue","defaultYear","onChange","apply","arguments","unit","withRouter","RangePicker","date_picker","collegeLists","collegeName","collegeCode","majorLists","majorName","majorCode","SearchBox","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","studentTypeLists","typeLists","code","name","levelLists","statusLists","college","major","undefined","studentType","type","level","status","flag","studentNo","startDate","endDate","filter","getCollegeLists","teamType","getMajorLists","_this$state","alarmType","alarmLevel","refreshData","_this3","row","col","align","components_SelectYear_SelectYear","changeFilter","length","SearchBox_Option","index","justify","marginTop","input","e","target","moment","es_button","icon","onClick","searchAction","ComprehensiveWarning","handleState","getData","colors","columns","dataIndex","render","text","record","fontSize","cursor","color","onCell","stopPropagation","val","backgroundColor","top","parseInt","handleClick","page","pageSize","total","levelConfig","dataLists","curRowInfo","obj","pageNum","size","startRow","endRow","pages","list","id","alarmDepict","createTime","updateTime","studentName","gender","alarmMiss","alarmNetwork","alarmConsume","prePage","nextPage","isFirstPage","isLastPage","hasPreviousPage","hasNextPage","navigatePages","navigatepageNums","navigateFirstPage","navigateLastPage","lastPage","firstPage","errorCode","isHandle","console","log","brigade","team","history","_this4","forEach","rowIndex","breadcrumb","card","ComprehensiveWarning_SearchBox","table","dataSource","bordered","pagination","onRow","rowClick","showSizeChanger","showQuickJumper","defaultCurrent","defaultPageSize","changePage","bind","onShowSizeChange","alarmTriggerId"],"mappings":"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","file":"static/js/13.436481ca.chunk.js","sourcesContent":["import React, { Component } from 'react'\r\nimport MainModal from '@/common/components/MainModal'\r\nimport { Radio, Row, Col, Form, Input, message } from 'antd'\r\n\r\nconst RadioGroup = Radio.Group\r\nconst FormItem = Form.Item\r\nconst formItemLayout = {\r\n    labelCol: { span: 6},\r\n    wrapperCol: { span: 14, style:{paddingLeft:'20px'}},\r\n};\r\nconst handleResultTypes = ['请假','病假','实习','休学','退学','毕业','其他'];\r\n\r\nclass HandleStateModel extends Component {\r\n    saveAction = ()=> {\r\n        this.props.form.validateFields((err,values) => {\r\n            // let { handleResult, handleRemark } = values;\r\n            // let alarmTriggerId = this.props.alarmTriggerId;\r\n            // let data = { handleResult, handleRemark, alarmTriggerId }\r\n            \r\n            //保存处理结果 \r\n            const res = {success:true}\r\n            if(res.success) {\r\n                message.success(\"处理成功！\");\r\n                this.props.onOk();\r\n            } else {\r\n                message.error(res.msg);\r\n            }\r\n        })\r\n    }\r\n    render() {\r\n        const { getFieldDecorator } = this.props.form;\r\n        let handleResult = this.props.form.getFieldValue('handleResult');\r\n        return (\r\n            <MainModal\r\n                    title={'处理预警'}\r\n                    onCancel={this.props.onCancel}\r\n                    onOk={this.saveAction}\r\n                    visible={true}\r\n                    width={656}\r\n                >\r\n                <FormItem {...formItemLayout} label=\"提醒模块\">\r\n                    {getFieldDecorator('handleResult', {\r\n                        rules: [{\r\n                            required: true,\r\n                            message: '请选择提醒模块！'\r\n                        }]\r\n                    })(\r\n                        <RadioGroup>\r\n                            <Row>\r\n                                {handleResultTypes.map(item=>(\r\n                                    <Col span={8} key={item}><Radio value={item}>{item}</Radio></Col>\r\n                                ))}\r\n                            </Row>\r\n                        </RadioGroup>\r\n                    )}\r\n                </FormItem>\r\n                {handleResult==='其他'?(\r\n                    <FormItem {...formItemLayout} label=\"其他原因\">\r\n                        {getFieldDecorator('handleRemark', {\r\n                            rules: [{\r\n                                required: true,\r\n                                message: '请填写其他原因！'\r\n                            }]\r\n                        })(\r\n                            <Input.TextArea style={{width:398,height:138,resize:'none'}}/>\r\n                        )}\r\n                    </FormItem>\r\n                ):null}\r\n            </MainModal>\r\n        )\r\n    }\r\n}\r\n\r\nconst HandleStateModelForm = Form.create()(HandleStateModel)\r\nexport default HandleStateModelForm","import React, {Component} from 'react';\r\nimport {withRouter} from 'react-router-dom';\r\nimport { Select } from 'antd';\r\nconst Option = Select.Option;\r\n\r\nclass SelectYear extends Component {\r\n    state = {\r\n        data:[]\r\n    }\r\n    componentWillMount(){\r\n        let data = [];\r\n        let year = new Date().getFullYear();\r\n        let years = this.props.years || 5;\r\n        for (var i=year;i>year-years;i--){\r\n            data.push(i)\r\n        }\r\n        this.setState({data});\r\n    }\r\n    handleChange(value){\r\n        if(this.props.handleChange) this.props.handleChange(value);\r\n    }\r\n    render(){\r\n        let data = this.state.data;\r\n        return (\r\n            <Select style={this.props.style || {width: 120}} className={this.props.className}\r\n                placeholder={this.props.placeholder || \"选择年份\"} \r\n                defaultValue={this.props.defaultYear} \r\n                onChange={(...data)=>this.handleChange(...data)}>\r\n                {data.map((item)=><Option value={item} key={item} >{item}{this.props.unit || '年'}</Option>)}\r\n            </Select>\r\n        )\r\n    }\r\n}\r\n\r\nexport default withRouter(SelectYear);","import React, { Component } from 'react';\r\nimport { Row, Col, Select, Button, Input, DatePicker } from 'antd'\r\nimport SelectYear from '@/common/components/SelectYear/SelectYear';\r\nconst Option = Select.Option;\r\nconst RangePicker = DatePicker.RangePicker;\r\n\r\nconst collegeLists = [\r\n    {\r\n        \"collegeName\": \"机械工程学院\",\r\n        \"collegeCode\": \"40010\",\r\n    },\r\n    {\r\n        \"collegeName\": \"计算机工程学院\",\r\n        \"collegeCode\": \"40070\",\r\n    },\r\n    {\r\n        \"collegeName\": \"通信工程学院\",\r\n        \"collegeCode\": \"40060\",\r\n    },\r\n    {\r\n        \"collegeName\": \"自动化学院\",\r\n        \"collegeCode\": \"40050\",\r\n    },\r\n    {\r\n        \"collegeName\": \"外国语学院\",\r\n        \"collegeCode\": \"40141\",\r\n    },\r\n    {\r\n        \"collegeName\": \"材料工程学院\",\r\n        \"collegeCode\": \"40020\",\r\n    },\r\n    {\r\n        \"collegeName\": \"电力工程学院\",\r\n        \"collegeCode\": \"40040\",\r\n    },\r\n    {\r\n        \"collegeName\": \"能源与动力工程学院\",\r\n        \"collegeCode\": \"40030\",\r\n    },\r\n    {\r\n        \"collegeName\": \"经济与管理学院\",\r\n        \"collegeCode\": \"40081\",\r\n    },\r\n    {\r\n        \"collegeName\": \"人文与社会科学学院\",\r\n        \"collegeCode\": \"40131\",\r\n    },\r\n    {\r\n        \"collegeName\": \"艺术与设计学院\",\r\n        \"collegeCode\": \"40100\",\r\n    },\r\n    {\r\n        \"collegeName\": \"建筑工程学院\",\r\n        \"collegeCode\": \"40090\",\r\n    },\r\n    {\r\n        \"collegeName\": \"汽车与轨道交通学院\",\r\n        \"collegeCode\": \"40111\",\r\n    },\r\n    {\r\n        \"collegeName\": \"环境工程学院\",\r\n        \"collegeCode\": \"40121\",\r\n    },\r\n    {\r\n        \"collegeName\": \"工业中心\",\r\n        \"collegeCode\": \"40171\",\r\n    },\r\n    {\r\n        \"collegeName\": \"康尼学院\",\r\n        \"collegeCode\": \"40210\",\r\n    },\r\n    {\r\n        \"collegeName\": \"国际合作与交流处\",\r\n        \"collegeCode\": \"10110\",\r\n    },\r\n    {\r\n        \"collegeName\": \"机械工程学院(联合培养)\",\r\n        \"collegeCode\": \"L40010\",\r\n    },\r\n    {\r\n        \"collegeName\": \"建筑工程学院(路桥与港航工程学联合培养)\",\r\n        \"collegeCode\": \"L40090\",\r\n    },\r\n    {\r\n        \"collegeName\": \"自动化学院(电气工程学院)\",\r\n        \"collegeCode\": \"L40050\",\r\n    }\r\n]\r\n\r\nconst majorLists = [\r\n    { \"majorName\": \"机械工程\", \"majorCode\": \"0101\" }, \r\n    { \"majorName\": \"机械设计制造及其自动化(流体传动与控制)(卓越工程师计划)\", \"majorCode\": \"0112\"},\r\n    {  \"majorName\": \"机械电子工程\", \"majorCode\": \"0110\" }\r\n]\r\n\r\nclass SearchBox extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        // let year = undefined;//new Date().getFullYear()\r\n        let typeLists = [\r\n            { code: null, name: '全部' },\r\n            { code: 1, name: '失联预警' },\r\n            { code: 3, name: '学业预警' },\r\n            { code: 2, name: '网络预警' },\r\n            { code: 4, name: '消费预警' },\r\n        ];\r\n        let levelLists = [\r\n            { code: null, name: '全部' },\r\n            { code: 1, name: '红色预警' },\r\n            { code: 2, name: '橙色预警' },\r\n            { code: 3, name: '黄色预警' },\r\n            { code: 4, name: '蓝色预警' }\r\n        ];\r\n        let statusLists = [\r\n            { code: null, name: '全部' },\r\n            { code: 0, name: '未处理' },\r\n            { code: 1, name: '已处理' },\r\n            { code: 'mark', name: '旗标预警' }\r\n        ];\r\n        this.state = ({\r\n            collegeLists: [],\r\n            majorLists: [],\r\n            studentTypeLists: [],\r\n            typeLists,\r\n            levelLists,\r\n            statusLists,\r\n            college: null,\r\n            major: undefined,\r\n            studentType: undefined,\r\n            year: undefined,\r\n            type: null,\r\n            level: null,\r\n            status: null,\r\n            flag: undefined,\r\n            studentNo: undefined,\r\n            startDate: undefined,\r\n            endDate: undefined,\r\n            filter: {\r\n                year: undefined,\r\n            }\r\n        });\r\n    }\r\n    componentWillMount() {\r\n        this.getCollegeLists();\r\n    }\r\n    getCollegeLists() {\r\n        this.setState({ collegeLists: collegeLists });\r\n    }\r\n    getMajorLists(collegeCode) {\r\n        if (collegeCode === null) {\r\n            this.setState({ majorLists: [] });\r\n            return;\r\n        }\r\n        // let data = {collegeCode}\r\n        // postAction('/bigdata/school/listMajorByCollege',data).then(res=>{\r\n        //     if(res.success){\r\n        //         this.setState({ majorLists:res.obj });\r\n        //     }\r\n        // })\r\n        this.setState({ majorLists: majorLists });\r\n    }\r\n    changeFilter(value, teamType) {\r\n        switch (teamType) {\r\n            case 0:\r\n                this.setState({ year: value }); break;\r\n            case 1:\r\n                this.setState({ college: value, major: undefined }, () => this.getMajorLists(value)); break;\r\n            case 2:\r\n                this.setState({ major: value }); break;\r\n            case 3:\r\n                this.setState({ studentType: value }); break;\r\n            case 4:\r\n                this.setState({ type: value }); break;\r\n            case 5:\r\n                this.setState({ level: value }); break;\r\n            case 6:\r\n                if (value === 'mark') {\r\n                    this.setState({ flag: 1, status: value });\r\n                } else {\r\n                    this.setState({ status: value, flag: null });\r\n                }\r\n                break;\r\n            case 7:\r\n                this.setState({ studentNo: value }); break;\r\n            case 8:\r\n                this.setState({ startDate: value[0], endDate: value[1] }); break;\r\n            default:\r\n                break;\r\n        }\r\n    }\r\n    searchAction() {\r\n        const {\r\n            year,\r\n            college: collegeCode,\r\n            major: majorCode,\r\n            type: alarmType,\r\n            level: alarmLevel,\r\n            status,\r\n            flag,\r\n            studentNo,\r\n            startDate,\r\n            endDate } = this.state;\r\n        let filter = { year, collegeCode, majorCode, alarmType, alarmLevel, status: status === 'mark' ? undefined : status, flag, studentNo, startDate, endDate };\r\n        // console.log(filter)\r\n        this.props.refreshData(filter);\r\n        // this.setState({\r\n        //     filter\r\n        // })\r\n    }\r\n    render() {\r\n\r\n        return (\r\n            <div>\r\n                <Row>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">年级:</Col>\r\n                            <Col span={16}>\r\n                                <SelectYear className=\"mr-10\"\r\n                                    years={5}\r\n                                    style={{ width: '100%' }}\r\n                                    placeholder={'选择年级'}\r\n                                    unit={'级'}\r\n                                    defaultYear={this.state.year}\r\n                                    handleChange={(value) => this.changeFilter(value, 0)} />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">学院:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择学院\"\r\n                                    value={this.state.college}\r\n                                    onChange={(value) => { this.changeFilter(value, 1) }}>\r\n                                    {this.state.collegeLists.length > 0 ? <Option key={'all'} value={null}>全部</Option> : null}\r\n                                    {this.state.collegeLists.map((item, index) => <Option key={index} value={item.collegeCode}>{item.collegeName}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">专业:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择专业\"\r\n                                    value={this.state.major}\r\n                                    onChange={(value) => { this.changeFilter(value, 2) }}>\r\n                                    {this.state.majorLists.length > 0 ? <Option key={'all'} value={null}>全部</Option> : null}\r\n                                    {this.state.majorLists.map((item, index) => <Option key={index} value={item.majorCode}>{item.majorName}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    {/* <Col span={6}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">学生类型:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择学生类型\"\r\n                                    value={this.state.studentType}\r\n                                    onChange={(value) => { this.changeFilter(value, 3) }}>\r\n                                    {this.state.studentTypeLists.length>0?<Option key={'all'} value={null}>全部</Option>:null}\r\n                                    {this.state.studentTypeLists.map((item, index) => <Option key={index} value={item.teamId}>{item.name}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col> */}\r\n                </Row>\r\n                <Row style={{ marginTop: 16 }}>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">预警类别:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择预警类别\"\r\n                                    value={this.state.type}\r\n                                    onChange={(value) => { this.changeFilter(value, 4) }}>\r\n                                    {this.state.typeLists.map((item, index) => <Option key={index} value={item.code}>{item.name}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">预警级别:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择预警级别\"\r\n                                    value={this.state.level}\r\n                                    onChange={(value) => { this.changeFilter(value, 5) }}>\r\n                                    {this.state.levelLists.map((item, index) => <Option key={index} value={item.code}>{item.name}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">预警状态:</Col>\r\n                            <Col span={16}>\r\n                                <Select className=\"mr-10\" style={{ width: '100%' }}\r\n                                    placeholder=\"选择预警状态\"\r\n                                    value={this.state.status}\r\n                                    onChange={(value) => { this.changeFilter(value, 6) }}>\r\n                                    {this.state.statusLists.map((item, index) => <Option key={index} value={item.code}>{item.name}</Option>)}\r\n                                </Select>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n                <Row style={{ marginTop: 16 }}>\r\n                    <Col span={8}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={8} className=\"text-center\">学号/姓名:</Col>\r\n                            <Col span={16}>\r\n                                <Input className=\"mr-10\"\r\n                                    value={this.state.studentNo}\r\n                                    style={{ width: '100%' }}\r\n                                    placeholder=\"请输入学生学号或姓名\"\r\n                                    onChange={(e) => { this.changeFilter(e.target.value, 7) }} />\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                    <Col span={16}>\r\n                        <Row type={'flex'} justify={'center'} align={'middle'}>\r\n                            <Col span={4} className=\"text-center\">时间:</Col>\r\n                            <Col span={16}>\r\n                                <RangePicker\r\n                                    style={{ width: '100%' }}\r\n                                    onChange={(moment, values) => {\r\n                                        this.changeFilter(values, 8)\r\n                                    }} />\r\n                            </Col>\r\n                            <Col span={4} className={\"text-right\"}>\r\n                                <Button icon=\"search\" type={'primary'} onClick={() => this.searchAction()}>搜索</Button>\r\n                            </Col>\r\n                        </Row>\r\n                    </Col>\r\n                </Row>\r\n            </div>\r\n        )\r\n    }\r\n}\r\n\r\nexport default SearchBox;","import React, { Component } from 'react';\r\nimport { Breadcrumb, Card, Table, Pagination, message} from 'antd';\r\nimport HandleStateModel from './HandleStateModel';\r\nimport SearchBox from './SearchBox';\r\nimport './style.less'\r\n\r\nlet typeLists = [\r\n    {code: null, name: '全部'},\r\n    {code: 1, name: '失联预警'},\r\n    {code: 2, name: '网络预警'},\r\n    {code: 3, name: '学业预警'},\r\n    {code: 4, name: '消费预警'},\r\n];\r\n\r\nclass ComprehensiveWarning extends Component {\r\n    constructor(props) {\r\n        super(props);\r\n        const colors = ['#e45a5a','#f5a623','#f8e71c','#309cff'];\r\n        \r\n        const columns = [{\r\n            title: '',\r\n            dataIndex: 'flag',\r\n            width: \"50px\",\r\n            align:'center',\r\n            render:(text,record)=>{\r\n                if(text===1){\r\n                    return <span className=\"iconfont icon-guoqiflag54\" style={{fontSize:22,cursor:'pointer',color:'#d0021b'}}></span>\r\n                } else {\r\n                    return <span className=\"iconfont icon-guoqiflag54\" style={{fontSize:22,cursor:'pointer',color:'#8d99b0'}}></span>\r\n                }\r\n            },\r\n            onCell:(record)=>{\r\n                return {\r\n                    onClick:(e)=>{\r\n                        e.stopPropagation();\r\n                        message.success('修改成功！');\r\n                    }\r\n                }\r\n            }\r\n        }, {\r\n            title: '序号',dataIndex: 'rowIndex',align:'center',width: \"50px\",\r\n        }, {\r\n            title: '学号',dataIndex: 'studentNo',align:'center', render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }, {\r\n            title: '姓名',dataIndex: 'studentName',align:'center',width: \"10%\", render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }, {\r\n            title: '性别',dataIndex: 'gender',align:'center',width: \"6%\",\r\n        }, {\r\n            title: '专业',dataIndex: 'majorName',align:'center', render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }, {\r\n            title: '预警类别',dataIndex: 'alarmType',align:'center',width: \"10%\",\r\n            render:(text, record)=>{\r\n                let val = typeLists[text] ? typeLists[text].name:'';\r\n                return (<span title={val}>{val}</span>)\r\n            }\r\n        }, {\r\n            title: '预警级别',dataIndex: 'alarmLevel',align:'center',width: \"10%\",\r\n            render:(text, record)=>{\r\n                const backgroundColor = colors[text-1];\r\n                return (\r\n                    <span className={'circle-mark'} style={{width:16,height:16,top:4,backgroundColor}}/>\r\n                )\r\n            }\r\n        }, {\r\n            title: '预警描述',dataIndex: 'alarmDepict',align:'center', render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }, {\r\n            title: '更新时间',dataIndex: 'updateTime',align:'center', render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }, {\r\n            title: '状态',dataIndex: 'status',align:'center',width: \"10%\",\r\n            render:(text, record)=>{\r\n                let color,val;\r\n                if(parseInt(text,10)===0){\r\n                    color = '#e45a5a';val = '待处理';\r\n                } else {\r\n                    color = '#71cf09';val = '已处理';\r\n                }\r\n                return (<div className={\"handleBtn\"} style={{color}}>{val}</div>);\r\n            },\r\n            onCell:(record)=>{\r\n                return {\r\n                    onClick:(e)=>this.handleClick(e,record)\r\n                }\r\n            }\r\n        }, {\r\n            title: '处理结果',dataIndex: 'handleResult',align:'center', width: \"10%\", render: (text) => {return (<span title={text}>{text}</span>)}\r\n        }];\r\n        this.state = ({\r\n            page: 1,\r\n            pageSize: 10,\r\n            total: 0,\r\n            columns,\r\n            levelConfig: [],\r\n            dataLists: [],\r\n            filter: {},\r\n            visible: false,\r\n            curRowInfo: undefined\r\n        });\r\n    }\r\n    componentWillMount(){\r\n        this.getData();\r\n    }\r\n    getData(data={page:this.state.page,pageSize:this.state.pageSize}){\r\n        //let { page, pageSize, year, collegeCode, majorCode, studentNo, alarmType, alarmLevel, startDate, endDate, flag, status } = data;\r\n        \r\n        const res = {\"success\":true,\"msg\":\"成功\",\"obj\":{\"pageNum\":1,\"pageSize\":10,\"size\":10,\"startRow\":1,\"endRow\":10,\"total\":38306,\"pages\":3831,\"list\":[{\"id\":\"00076b95c6a241e38b20a812bec4f872\",\"studentNo\":\"207140326\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"王路祺\",\"gender\":\"男\",\"majorName\":\"能源与动力工程(卓越工程师计划)\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"0007c155c86448628175b9a47367c4b6\",\"studentNo\":\"202150636\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"一年级学生，任一学期累计不及格达10学分\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"张江儒\",\"gender\":\"男\",\"majorName\":\"数字媒体技术\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"000c2b82f0ff49dcb39bb6cb79041ca8\",\"studentNo\":\"234140339\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"周荣华\",\"gender\":\"男\",\"majorName\":\"机械设计制造及其自动化(计算机辅助制造与数控加工)\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"000c4b4b4b5e4c41935872ae44245585\",\"studentNo\":\"234140107\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"陈峰\",\"gender\":\"男\",\"majorName\":\"机械设计制造及其自动化(数控加工与维修)\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"00234b7a8f1a475e8b4d6ddc426980d3\",\"studentNo\":\"206140738\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"赵明\",\"gender\":\"男\",\"majorName\":\"电气工程及其自动化(电力系统继电保护)\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"0023c12dab364121a12477607e42c480\",\"studentNo\":\"208141036\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"徐佳维\",\"gender\":\"男\",\"majorName\":\"信息工程\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"0023d2e175394a6ea76a32d66278a668\",\"studentNo\":\"209140533\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"万佳\",\"gender\":\"男\",\"majorName\":\"市场营销\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"002583119446434abcf7240c6db3f649\",\"studentNo\":\"209141240\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":0,\"studentName\":\"王旭超\",\"gender\":\"男\",\"majorName\":\"工程造价\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"0025a6b896404b86877b8adbbbc878bb\",\"studentNo\":\"205140808\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":1,\"studentName\":\"戴鑫\",\"gender\":\"男\",\"majorName\":\"焊接技术与工程\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0},{\"id\":\"002690613a1a4d458ac50444f0f32791\",\"studentNo\":\"206141239\",\"alarmType\":1,\"alarmLevel\":1,\"alarmDepict\":\"毕业班学生，在校最后一个学期仍有不及格课程\",\"createTime\":\"2018-02-05 15:24:33\",\"updateTime\":\"2018-09-06 12:54:15\",\"status\":0,\"flag\":1,\"studentName\":\"朱昊卿\",\"gender\":\"男\",\"majorName\":\"电气工程及其自动化(中外合作办学)\",\"alarmMiss\":0,\"alarmNetwork\":0,\"alarmConsume\":0}],\"prePage\":0,\"nextPage\":2,\"isFirstPage\":true,\"isLastPage\":false,\"hasPreviousPage\":false,\"hasNextPage\":true,\"navigatePages\":8,\"navigatepageNums\":[1,2,3,4,5,6,7,8],\"navigateFirstPage\":1,\"navigateLastPage\":8,\"lastPage\":8,\"firstPage\":1},\"errorCode\":null}\r\n        this.setState({\r\n            total: res.obj.total,\r\n            dataLists: res.obj.list || []\r\n        })\r\n    }\r\n    refreshData(filter,isHandle){\r\n        if(isHandle){\r\n            let data = Object.assign({},{\r\n                page:this.state.page,pageSize:this.state.pageSize\r\n            },this.state.filter)\r\n            this.getData(data)\r\n            return;\r\n        }\r\n        this.setState({filter},()=>{\r\n            let data = Object.assign({},{\r\n                page:this.state.page,pageSize:this.state.pageSize\r\n            },filter)\r\n            console.log(data)\r\n            this.getData(data)\r\n        })\r\n    }\r\n    handleClick(e,record){\r\n        e.stopPropagation();\r\n        if(record.status===0){\r\n            this.setState({visible:true,curRowInfo:record});\r\n        }\r\n    }\r\n    searchAction() {\r\n        const { college, brigade, team, major, year } = this.state;\r\n        let filter = { college, brigade, team, major, year };\r\n        this.setState({\r\n            filter\r\n        })\r\n    }\r\n    changePage(page, pageSize) { //分页\r\n        this.setState({\r\n            page, pageSize\r\n        }, () => {\r\n            let data = Object.assign({},{\r\n                page, pageSize\r\n            },this.state.filter)\r\n            this.getData(data);\r\n        })\r\n    }\r\n    rowClick(record, index){\r\n        // console.log(record, index);\r\n        // console.log(this.props)\r\n        this.props.history.push('/mainframe/comprehensivewarning/detail/'+record.studentNo);\r\n    }\r\n    handleState = ()=> {\r\n        this.setState({visible:false},()=>this.getData())\r\n    }\r\n    render(){\r\n        const data = this.state.dataLists || [];\r\n        data.forEach((item,index)=>{\r\n            data[index].key = index;\r\n            data[index].rowIndex = index+1;\r\n        })\r\n        return (\r\n            <div>\r\n                <Breadcrumb className=\"breadcrumb\">\r\n                    <Breadcrumb.Item>综合预警</Breadcrumb.Item>\r\n                </Breadcrumb>\r\n                <div className=\"common-content\">\r\n                    <Card title=\"预警列表\">\r\n                        <SearchBox refreshData={(data)=>this.refreshData(data)} typeLists={typeLists} />\r\n                        <div style={{ marginTop: 30 }}>\r\n                            <Table\r\n                                columns={this.state.columns}\r\n                                dataSource={data}\r\n                                bordered\r\n                                size=\"small\"\r\n                                pagination={false}\r\n                                onRow={(record, index) => {\r\n                                    return {\r\n                                      onClick: () => this.rowClick(record, index),// 点击行\r\n                                    };\r\n                                }}\r\n                            />\r\n                            <div className={'tableTip'}>\r\n                                预警级别说明:\r\n                                <span className={'circle-mark'}/> 红色预警\r\n                                <span className={'circle-mark'} style={{backgroundColor:'#f5a623'}}/> 橙色预警\r\n                                <span className={'circle-mark'} style={{backgroundColor:'#f8e71c'}}/> 黄色预警\r\n                                <span className={'circle-mark'} style={{backgroundColor:'#309cff'}}/> 蓝色预警\r\n                            </div>\r\n                            <Pagination style={{marginTop:20}} className=\"text-center\" showSizeChanger showQuickJumper defaultCurrent={1}\r\n                                defaultPageSize={this.state.pageSize}\r\n                                total={this.state.total}\r\n                                onChange={this.changePage.bind(this)}\r\n                                onShowSizeChange={this.changePage.bind(this)} />\r\n                        </div>\r\n                    </Card>\r\n                </div>\r\n                {this.state.visible?(\r\n                    <HandleStateModel \r\n                        alarmTriggerId={this.state.curRowInfo&&this.state.curRowInfo.id}\r\n                        onCancel={()=>this.setState({visible:false})}\r\n                        onOk={this.handleState}\r\n                    />\r\n                ):null}\r\n            </div>\r\n        );\r\n    }\r\n}\r\n\r\nexport default ComprehensiveWarning;"],"sourceRoot":""}